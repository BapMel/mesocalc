    <?xml version="1.0" encoding="utf-8"?>
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <!--

This is the source code of MesoCalc, a Mesopotamian calculator. Welcome
to readers.

The code is divided into three successive parts:

1. the CSS style sheet (for aesthetics);

2. the JavaScript source code (for algorithmics);

3. the HTML code (for user interface).

Why JavaScript? So that people can: 

1. easily use the program online (whatever their operating system or 
                                  terminal may be), and  

2. download it as a single file, use it offline.

For historical reasons, the code mixes English and French words. It was
first written with French words. I hope that it will not disturb you.

-->

    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">

    <head> 
    <title>MesoCalc</title> 
    <meta name="author" content="Baptiste Mélès"/> 
    <meta name="description" content="MesoCalc is a Mesopotamian
calculator." />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <style type="text/css">


/* *************************************************************
 * CSS Style Sheet
 **************************************************************** */



body {
    background-color: #FFEECC;
    font-size: 10pt;
    margin: 2em;
    font-family: Verdana, Charcoal, Geneva, "Luxi Sans", sans-serif;
}

div#tout { 
    margin-top: 1em;
    margin-bottom: 1em;
    padding-bottom: 1em;
    margin-left: auto; 
    margin-right: auto;
    font-size: 13px;
    background-color: white; 
    width: 800px;
}


div#nav { 
    float: left;
    height: 100%;
    width: 15em;
	position: fixed;
}


div.titre { 
	padding-left: 1em;
	margin-bottom: .5em;
 	border-bottom: 1px solid #000;
}


    .encart {
	    background: #eee;
	    border: 2px solid #ddd;
	    border-radius: 0 20px 0 0;
	    padding: 5px 25px 7px 25px; 
	    margin: 30px 0;
    }

div#corps { 
    margin-left: 16em;
    margin-right: 3em;
}


table, th, td {
    border: 1px solid black;
    border-spacing: 0px;
    border-collapse: collapse;
    padding: 3px;
	background: white;
}

table.invisible, table.invisible td, table.invisible th {
    text-align: center;
    border: 0px;
}

table.encadre td, table.encadre th {
    text-align: center;
	border : 0px;
}

input {
	font-family: monospace;
}

    .system {
	    color: #0080C0;
        font-weight: bold;
    }

    .result_line {
	    font-weight: bold;
	    background-color: white;
	    border: 1px;
	    padding: 0 2em;
    }

div#nav
a { 
	color: maroon;
	text-decoration: none; 
}

h1 a, h1 a:visited {
    text-decoration: none;
    color: #8080FF;
}


div#nav p {
	margin-left: 1em;
}

div#nav ul {
	padding-left: 2em;
}

div#corps p {
	margin-top: 1em;
    margin-bottom: 1em;
    text-indent: 3em;
	text-align: justify;
}


div#titre {
	color: #8080FF;
    text-align: center; 
    margin-left: auto;
    margin-right: auto;
    width: 30em;
    padding-bottom: 4em;
}

    .encadre {
	    border: 1px solid black;
    }

div#titre p {
	color: maroon;
    font-size: 2em;
	font-weight: normal;
    padding: 0;
    margin: 0;
}

h1 {
    font-size: 4em;
    padding: 0;
    margin: 0;
}

h2 {
	color: navy;
    font-size: 3em;
    margin-top: 1.5em; 
    margin-bottom: 1em;
}

h3 {
	color: navy;
    padding-left: 1em;
    font-size: 1.5em;
    margin-top: 2em; 
    margin-bottom: 1em;
}

h4 {
	color: navy;
    padding-left: 3em;
    font-size: 1.2em;
    margin-top: 2.5em; 
    margin-bottom: 1.5em;
}


hr.petit {
	color: gray;
    background-color: gray;
    height: 0px;
    width: 10em;
    border: 0;
}

div.retrait, ul {
}

div.cadre {
    border: 1px solid black;
}


</style>


</head>

    <body onload="main();">
    <script type="text/javascript"> 
    //<![CDATA[
    <!-- 


////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
// JAVASCRIPT CODE OF MESOCALC
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////


// In the following, "sexa" means "sexagesimal number" and "deci" means
// "decimal number".


// TODO: For aesthetic reasons, I would like most computations to be
// done in sexagesimal notation and not in decimal notation.

// TODO: JavaScript has a limitation: numbers can not be greater than
// 9007199254740992 (which is 2^53, or 53.37.35.32.22.29.43.36.32). This
// is a real issue, for Mesopotamian mathematics really use numbers
// which are greater than this one. Thus, we have to go through this
// limitation. This can be done by considering numbers not as numbers,
// but as strings. As a consequence, computations must not be done by
// JavaScript in decimal notation.


// Personal reminder: in Google Chrome's JavaSciprt debugger, use
// console.log() to test functions. Example:
//
// for (i = 1; i <= 100; i++) console.log(Deci_to_sexa_absolute(i))




////////////////////////////////////////////////////////////////
// Initialization function
////////////////////////////////////////////////////////////////

function main () {
    // In this function are initialized, at first load of the HTML page,
    // some general variables.


    // This boolean says if the calculator is used in floating or
    // absolute mode.
    sexa_floating = true; 

    // This boolean values are useful to switch on/off the display of some
    // tables.
    affiche_table_inverse = false; 
    affiche_table_carres = false; 
    affiche_table_racines_carrees = false; 
    affiche_table_racines_cubiques = false; 

    // Typical answers (especially for error messages)
    nu = "<em>nu</em> (Undefined).";
    not_sexa = "Use a sexagesimal integer.";
    not_sexas = "Use sexagesimal integers.";
    not_deci = "Use a decimal integer.";
    negative = "Negative result.";


    // For iterated operations: n-ary additions, n-ary
    // multiplications... For example, when you compute an addition, you
    // first see just two operand boxes. But if you compute the result,
    // then a third box will appear, and so on.

    nb_additions = 2;
    addenda = new Array;

    nb_soustractions = 2;
    subtrahenda = new Array;

    nb_multiplications = 2;
    multiplicanda = new Array;

    nb_add_longueurs = 2;
    addenda_longueurs = new Array;

}


////////////////////////////////////////////////////////////////
// Display or hide Introduction
////////////////////////////////////////////////////////////////

// The Introduction gives somes explanation about Mesopotamian
// mathematics. It must be hidden for people using MesoCalc
// everyday (otherwise they will have to go down and down and down
// before seing the calculator). But it is useful for people who 
// know nothing about Mesopotamian mathematics. So people can chose
// whether they display it or not.

function display_intro() {
    document.getElementById('deplie').style.display = 'block';
    document.getElementById('replie').style.display = 'none';
}

function hide_intro() {
    document.getElementById('deplie').style.display = 'none';
    document.getElementById('replie').style.display = 'block';
}



////////////////////////////////////////////////////////////////
// General arithmetics (base-independant)
////////////////////////////////////////////////////////////////


// This function adds numbers. 
function addition_general(nb1, nb2, base) {

    // This algorithm is fully general:

    // 1. It does not suffer from JavaScript's limitations: sexas can be
    //    as big as their string can be, even if their decimal
    //    expression is higher than what JavaScript can accept as a
    //    number. The only limitation is the length of a string in
    //    JavaScript, which is 2^31 characters. So, please, do not use
    //    numbers greater than 10^(2^31), i.e. containing more than two
    //    billions digits.

    // 2. It does not depend on a particular base. It may be 10, or 60,
    //    or whatever you want.

    // Note: addition is always absolute, never floating.


    // This is the separator when we note a number. For
    // example, when we note 1729 in decimal notation,
    // the separator is "". When we write 28.49 in
    // sexagesimal notation, the separator is ".". The
    // criterium is, of course, to know whether the base
    // is less or greater than 10.
    var separator = base <= 10 ? "" : ".";


    if (!nb1) nb1 = "0";
    if (!nb2) nb2 = "0";
    var array_nb1 = nb1.split(separator).reverse(); // Array of the
    // first number.
    var array_nb2 = nb2.split(separator).reverse(); // Array of the
    // second number.
    var array_result = new Array(); // The result as an array.
    var result = ""; // The result as a string.
    var carry = 0;

    // Addition of the two sexas, digit by digit: array_result[i] =
    // array_nb1[i] + array_nb2[i].
    for (var i = 0; i < Math.max(array_nb1.length, array_nb2.length); i++) {

        array_result[i] = carry + (array_nb1[i] ? parseInt(array_nb1[i]) : 0)
            + (array_nb2[i] ? parseInt(array_nb2[i]) : 0);

        // How to handle the carry.
        carry = 0;
        if (array_result[i] >= base) { // Since array_result[i] can not be
            // greater than 119, there will be no problem with
            // JavaScript's limitations (2^53).

            carry = 1;
            array_result[i] -= base;
        }
    }
    if (carry == 1)
        array_result[array_result.length] = 1;


    // We reverse the result array, so that it appears as a true sexa.
    result = array_result.reverse().join(separator);
    return result;
}



function subtraction_general(nb1, nb2, base) {

    // This algorithm is fully general:

    // 1. It does not suffer from JavaScript's limitations: sexas can be
    //    as big as their string can be, even if their decimal
    //    expression is higher than what JavaScript can accept as a
    //    number. The only limitation is the length of a string in
    //    JavaScript, which is 2^31 characters. So, please, do not use
    //    numbers greater than 10^(2^31), i.e. containing more than two
    //    billions digits.

    // 2. It does not depend on a particular base. It may be 10, or 60,
    //    or whatever you want.

    // Note: addition is always absolute, never floating.


    // This is the separator when we note a number. For
    // example, when we note 1729 in decimal notation,
    // the separator is "". When we write 28.49 in
    // sexagesimal notation, the separator is ".". The
    // criterium is, of course, to know whether the base
    // is less or greater than 10.
    var separator = base <= 10 ? "" : ".";


    if (!nb1) nb1 = "0";
    if (!nb2) nb2 = "0";
    var array_nb1 = nb1.split(separator).reverse(); // Array of the
    // first number.
    var array_nb2 = nb2.split(separator).reverse(); // Array of the
    // second number.
    var array_result = new Array(); // The result as an array.
    var result = ""; // The result as a string.
    var carry = 0;

    // Subtraction of the two sexas, digit by digit: array_result[i] =
    // array_nb1[i] - array_nb2[i].
    for (var i = 0; i < Math.max(array_nb1.length, array_nb2.length); i++) {

        array_result[i] = - carry + (array_nb1[i] ? parseInt(array_nb1[i]) : 0)
            - (array_nb2[i] ? parseInt(array_nb2[i]) : 0);

        // How to handle the carry.
        carry = 0;
        if (array_result[i] < 0) { // Since array_result[i] can not be
            // less than -59, there will be no problem with JavaScript's
            // limitations (2^53).

            carry = 1;
            array_result[i] += parseInt(base);
        }
    }

    // For negative numbers.
    if (carry == 1)
        array_result[array_result.length] = 0;

    // We reverse the result array, so that it appears as a true sexa.
    result = array_result.reverse().join(separator);

    // Remove all useless ".0"s in the tail of the reversed list.
    var head = new RegExp("^(0\\\.)+", "g"); 
    // If there is such a tail, then it is replaced by nothing.
    if (head.test(result))
        result = result.replace(head, "");

    return result;
}



// This function multiplies numbers.
function multiplication_general(nb1, nb2, base) {

    // This function is fully general:
    //
    // 1. It does not depend on JavaScript's limitation of 2^53.
    //
    // 2. It does not depend on any particular base. It can be 10 or 60,
    // or whatever you want.


    // This algorithm used here is the same as in French schools. For
    // instance (in base 60):
    //
    //       1.57.01 (with indices i for the multiplicand)
    // x        1.03 (with indices j for the multiplier)
    //  ------------ (here we get a bidimensional array for addition:)  
    //       5.51.03 (we multiplied 1.57.01 by 3)
    // +  1.57.01.00 (we multiplied 1.57.01 by 1, and shifted it to the left)
    //  ------------
    //    2.02.52.03 (we add the results)
    //
    // To do that, at some point, we need to fill a matrix like:
    // ( 3 51  5 * ...)  (with j lines)
    // ( *  1 57 1 ...)  (places marked by * will count as 0 during addition)
    // ( *  * ...     )  
    // ( *  *  * ...  )  
    //
    // To make things easier, the number 1.3 is represented as 3.1 (this
    // is why we use reverse() a lot).
    //
    // Why use this algorithm, instead of JavaScript's decimal
    // multiplication? Because it is limited to 2^53. With our
    // algorithm, there is no use of big numbers. Instead, we consider
    // numbers as mere strings of digits. Now, the limitation is
    // something like 10^(2^35).


    // We define the separator, which is "" in base 10
    // (for example in "1729"), and "." in other bases
    // (such as "28.49" in base 60).
    var separator = base <= 10 ? "" : ".";

    var multiplicand = nb1.split(separator).reverse(); // The
    // multiplicand, seen as a reversed array.
    var multiplier = nb2.split(separator).reverse(); // The multiplier,
    // seen as a reversed array as well.
    var i = 0; // Indices for the multiplicand.
    var j = 0; // Indices for the multiplier.
    var carry = 0; // The carry.
    var result = new String(); // The result.

    // Create the bidimensional array (the matrix) for addition.
    var addition = new Array();
    for (j = 0; j < multiplier.length; j++) 
        addition[j] = new Array();


    // Perform the multiplications.
    for (var j = 0; j < multiplier.length; j++) { // For each digit of the
        // multiplier.

        for (i = 0; i < multiplicand.length; i++) { // For each digit of
            // the multiplicand.

            // Multiply the i-th digit of the multiplicand by the j-th
            // digit of the multiplier, and store the result in the cell
            // (j, j+i).
            addition[j][j+i] = 
                String(parseInt(multiplicand[i]) * parseInt(multiplier[j]) 
                       + carry); // In base 60, this will never be more
            //  than 59*59+1 (hence, it is always
            //  less than 2^53).
            carry = 0; // Reset the carry after using it.

            // Avoid false "sexagesimal" digits like 127 in base 60:
            // remove 2*60 and put 2 in the carry.
            while (parseInt(addition[j][j+i]) >= base) {
                addition[j][j+i] = String(parseInt(addition[j][j+i]) - base);
                carry += 1;
            }
        }

        if (carry != 0) { // For the last carry of the line, if any.
            addition[j][j+i] = String(carry);
        }

        carry = 0; // Reset carry before going to the next line of the matrix.
    }


    // Fill the matrix with zeros under the diagonal, as follows:
    //
    // ( ... . . . )
    // ( ... . . 0 )
    // ( ... . 0 0 )
    // ( ... 0 0 0 )
    for (var j = 0; j < multiplier.length; j++) 
        for (var i = 0; i < j; i++)
            addition[j][i] = "0";

    // Perform the additions.
    result = "0";

    // Add the lines of the matrix, one by one. No number in this
    // computation will be greater than 19.
    for (var j = 0; j < multiplier.length; j++) {
        result = addition_general(result, 
                                  addition[j].reverse().join(separator), 
                                  base);
    }

    // This is it!
    return result;
}


// This function divides numbers, and returns a hash table containing
// both result["quotient"] and result["remainder"].
function division_general(dividend, divisor, base) {

    // TODO: this function only works in decimal numbers. It should be
    // debugged in order to work with sexagesimal arithmetics. Until
    // then, I use a (harmless) trick in division_sexa().

    var separator = base <= 10 ? "" : ".";

    var big_dividend = new String(dividend); // The decimal number to convert.
    var small_dividend = new String(""); // The small parts (between 0
    // and 599) which will effectively be divided. So we are sure we
    // will never reach 2^53.
    var quotient = new String(""); // Quotient of the current
    // division by 60.
    var remainder = "0"; // The remainder.
    var head = new RegExp("^(0" + separator + ")+", "g"); //  To remove
    //  useless 0s as in "00412".
    var result = new Object();


    do { // Take small parts of the dividend to perform little
        // divisions from left to right.

        // We feed the "small dividend" by removing the first digits
        // of the "big dividend".
        small_dividend = small_dividend.replace(head, "") 
            + big_dividend.substr(0, 1);
        big_dividend = big_dividend.substr(1, big_dividend.length);

        // Update the quotient and the remainder.
        if (parseInt(small_dividend) < parseInt(divisor)) {
            quotient = quotient + "0";
            remainder = small_dividend;
        } else {
            // Remember: "small_dividend" is really small! (less than
            // base^2). So the following operations are harmless up to
            // the base 2^26...
            quotient = 
                quotient 
                + Math.floor(parseInt(small_dividend) / parseInt(divisor));
            remainder = String(parseInt(small_dividend) % parseInt(divisor));
            small_dividend = remainder;
        }

    } while (big_dividend.length != 0);

    quotient = quotient.replace(head, ""); // Remove the "0"s at head.

    // The result is a hash table, containing both result["quotient"]
    // and result["remainder"].
    result["quotient"] = quotient;
    result["remainder"] = String(remainder);

    return result;
}



// Compute powers in any base.
function power_general(nb, power_nb, base) {

    // This is a quick algorithm for powers.
    //
    // The idea is the following. Say we want to compute 2^13. Instead
    // of computing 2*2*2*2*2*2*2*2*2*2*2*2*2, we compute 2*2 = 4
    // (= 2^2), 4*4 = 16 (= 2^4) and 16*16 = 256 (= 2^8). We finally
    // compute 256*16*2 = 8192.
    //
    // How to do that? Take your power, here 13. Write it in binary
    // notation: you get 1101, which is composed of four binary digits.
    // We will then need four powers: 2, 2*2, 4*4, 16*16. Take the
    // powers which are representend by 1 in the binary number: 16, 4,
    // 2. Multiply them and you get the result. 
    //
    // The complexity should be something like n.log(n) instead of n.
    //


    // Trivial results.
    var result = "1";
    if (power_nb == "0" || nb == "1")
        return result;

    // The separator of digits depends on the base chosen.
    var separator = base <= 10 ? "" : ".";

    // Remove useless head of numbers, such as 00412.
    var head = new RegExp("^(0" + separator + ")+", "g"); 
    nb.replace(head, "");

    // The binary expression of the power.
    var power_binary = base_to_base(power_nb, base, 2).split("").reverse();

    // The list of powers which we will need.
    var powers = new Object();
    powers[0] = "1";
    powers[1] = nb;

    // Compute all needed powers.
    for (var i = 2; i <= power_binary.length; i++) {
        powers[i] = multiplication_general(powers[i-1], powers[i-1], base);
    }

    // Multiply all needed powers.
    for (var i = 0; i < power_binary.length; i++) {
        if (power_binary[i] == "1") {
            result = multiplication_general(result, powers[i+1], base);
        }
    }

    // That's all, folks!
    return result;
}




////////////////////////////////////////////////////////////////
// Base conversion
////////////////////////////////////////////////////////////////



// This function converts numbers from one base to another.
function base_to_base (number, from, to) {

    var result = base10_to_base(base_to_base10(number, from), to);

    return result;
}




function base_to_base10(number, from) {

    var result = "0";
    var puissance;

    // This is the separator between digits, which is "" until base 10
    // (as in 1729), but "." for higher bases (as in 28.49).
    var separator = from <= 10 ? "" : ".";

    // The number is treated as a string of digits, not as a number
    // (otherwise there would be the limitation at 2^53).
    var array_number = number.split(separator);

    // Let us take every digit of the number to convert.
    for (var i = 0; i < array_number.length; i++) {

        // We compute the power which corresponds to it. (The trick is
        // that these powers themselves are considered as strings of
        // digits, so that we never compute with big numbers such as
        // 2^53).
        puissance = "1";
        for (var j = 1; j < array_number.length -i; j++) {
            puissance = 
                multiplication_deci(puissance, from); // For
                // example, we use the decimal multiplication to compute
                // powers of 60.
        }

        // The number is decomposed into multiples of powers of the base (such
        // as 1000+700+20+9), which we finally just have to add.
        result = addition_general(result,
                                  multiplication_deci(puissance, 
                                                      array_number[i]));
    }

    return result;
}




function base10_to_base(number, base) {

    // The algorithm corresponds to the way pupils perform division in
    // France. Why so? Because their algorithm does not depend on the
    // length of the numbers: they just perform the division from left
    // to right, whithout needing to know how big the number is. This
    // way, we will not depend on JavaScript's number limitation at
    // 2^53: the value of numbers is only limited by that of strings
    // (which, contrary to 2^53, is far enough for Mesopotamian
    // mathematics).

    // Division is iterated. For example, let us convert 24721 into a sexa.
    // 24721 is the "big dividend". We take 2, then 24, then 247, which is
    // eventually a greater number than 60 (but less than 599, so far from
    // 2^53), as "small dividend". We divide by 60. The quotient is 004, the
    // remainder is 7; it becomes the "small dividend". Then we take 72 as
    // "small dividend", and so on. At the end, we get 00412 as quotient. We
    // remove the first zeros and we get 412. Now, 412 contains at least
    // three digits, which means that it is greater than 60. So we do once
    // again the same, until getting 006 as a quotient. Then we take the
    // last quotient (here 6), followed by the reversed list of remainders
    // (here 52 and 1), and we get the sexa which corresponds to 24721,
    // i.e 6.52.1.

    var big_dividend = new String(number); // The decimal number to convert.
    var small_dividend = new String(""); // The small parts (between 0
    // and 599) which will effectively be divided. So we are sure we
    // will never reach 2^53.
    var quotient = new String(""); // Quotient of the current division by 60.
    var remainder = new Array(); // Array of successive remainders.
    var i = 0; // Indices for the list of remainders.
    var head = new RegExp("^0+", "g"); //  To remove useless 0s as in "00412".

    var separator = base <= 10 ? "" : ".";

    do { // For each quotient which is greater than 60.
        quotient = "";
        small_dividend = "";

        do { // Take small parts of the dividend to perform little
            // divisions from left to right.

            // We feed the "small dividend" by removing the first digits
            // of the "big dividend".
            small_dividend = small_dividend + big_dividend.substr(0,1);
            big_dividend = big_dividend.substr(1,big_dividend.length);

            // Update the quotient and the remainder.
            if (parseInt(small_dividend) < base) {
                quotient = quotient + "0";
                remainder[i] = parseInt(small_dividend);
            } else {
                // Remember: "small_dividend" is really small! (less
                // than 599). So the following operations are harmless.
                quotient = 
                    quotient + Math.floor(parseInt(small_dividend) / base);
                remainder[i] = parseInt(small_dividend) % base;
                small_dividend = remainder[i];
            }

        } while (big_dividend.length != 0 || parseInt(small_dividend) >= base);

        i++; // Now we need to compute the next sexagesimal digit.
        quotient = quotient.replace(head, ""); // Remove the "0"s at head.
        big_dividend = quotient; // Recursive division.

    } while (big_dividend.length > base.length
             || parseInt(big_dividend) >= base); // Because of the first
    // condition (length >= 3), the second one (dividend >= 60) is only
    // checked if the dividend is less than 99. Hence, there is no
    // chance to compare 60 with 2^53. THIS WOULD NOT BE THE CASE IF
    // THESE TWO CONDITIONS WERE PERMUTED!

    // The result is the quotient (if not null) followed by the reversed
    // list of remainders.
    var result = (quotient != 0 ? quotient + separator : "") 
        + remainder.reverse().join(separator);

    // Return the number in absolute mode.
    return result;
}






////////////////////////////////////////////////////////////////
// Sexagesimal numbers
////////////////////////////////////////////////////////////////


// This function takes a sexa as argument, and converts it into a deci.
function Sexa_vers_deci (sexa) {

    // WARNING: it does not check if the argument really is a sexa. You
    // must have checked it before calling this function.

    var result = base_to_base(sexa, "60", "10");
    return result;
}



// This function handles the conversion form from sexa to deci.
function sexa2deci(form) {

    var sexa = form.input.value;

    // Checks that the input really is a sexa and calls the conversion
    // function.
    var result = is_sexa(sexa) ? Sexa_vers_deci(sexa) : not_sexa;

    // Display the result.
    display_result(result, 'conversion-60-10');

}



// This function takes a sexa as argument, and returns it in floating
// mode (concretely, it just cuts the ".0"s at the end).
function floating(sexa) {

    // The tail of an absolute number consists in a list of ".0"s (see
    // e.g. the number 1.20.0.0). This is what we are going to cut in
    // order to convert it into a floating number.
    var tail = new RegExp("(\\\.0)+$", "g"); // "g" option to catch all ".0"s

    // If the argument "sexa" has such a tail, then it is replaced by
    // nothing.
    if (tail.test(sexa))
        sexa = sexa.replace(tail, "");

    // Now we have a floating number.
    return sexa;
}



// This function returns a floating or an absolute sexa, depending on
// the mode currently chosen by the user.
function floating_or_absolute(sexa) {

    return (sexa_floating == true) ? floating(sexa) : sexa;
}





////////////////////////////////////////////////////////////////
// Decimal numbers
////////////////////////////////////////////////////////////////


// This function takes a deci as argument, and returns it as a sexa
// (floating or absolute, depending of the computing mode chosen by
// the user).
function Deci_to_sexa(number) {

    // WARNING: Do not use this function in your code! Use instead one of
    // these three functions:
    //
    // 1. Deci_to_sexa_floating_or_absolute,
    // 2. Deci_to_sexa_absolute,
    // 3. Deci_to_sexa_floating.

    return base_to_base(String(number), "10", "60");
}



// This function takes a deci as argument, and returns it as a sexa (in
// absolute or floating mode, depending on what the user wants).
function Deci_to_sexa_floating_or_absolute(number) {

    var result = floating_or_absolute(Deci_to_sexa(number));
    return result;
}



// This function takes a deci as argument, and returns it as a sexa
// (always absolute, even in floating mode).
function Deci_to_sexa_absolute(number) {

    var result = Deci_to_sexa(number);
    return result;
}



// This function takes a deci as argument, and returns it as a sexa
// (always floating, even in absolute mode).
function Deci_to_sexa_floating(number) {

    var result = floating(Deci_to_sexa(number));
    return result;
}



// Conversion from deci to sexa.
function deci2sexa(form) {
    var deci = form.input.value;
    var result;

    // Some easter eggs linked with the history of MesoCalc... 
    switch (deci) {
    case "Christine":    // Christine Proust
    case "Cécile":       // Cécile Michel
        result = "d-nisaba zà-mí !";
        break;

    case "Karine":       // Karine Chemla
        result = "林力娜";
        break;

    case "Bob":          // Robert Middeke-Conlin
        result = "lu2-im-na4-na";
        break;

    case "Baptiste":     // Baptiste Mélès
        result = "梅乐思";
        break;

    default:
        // The default behaviour is to convert the number if it is a deci.
        result = 
            is_int(deci) ? Deci_to_sexa_floating_or_absolute(deci) : not_deci;
    }

    // Display the result.
    display_result(result, 'conversion-10-60');


    // Why these easter eggs? Let us say some words about MesoCalc's
    // birth context.
    //
    // On 25-29 March 2013, the SAW group organized the conference
    // "Cultures of computation and quantification in the ancient world"
    // in Paris (Université Paris-Diderot). Baptiste Mélès had a talk
    // about how to use concepts of computer science to describe the use
    // of computing tools such as the Chinese abacus. Robert
    // Middeke-Conlin's talk was "The Nazbalum in Old Babylonian
    // Mesopotamia: A Concrete Number or Administrative Tool"; Baptiste
    // Mélès had to prepare a commentary for this talk, but since he
    // knew absolutely nothing about Mesopotamian mathematics, he had to
    // read some books about it, such as Christine Proust's; he learned
    // to compute in sexagesimal notation, and was exercising to perform
    // sexagesimal multiplications and divisions on paper, but he wanted
    // to check his computations. This is why we wrote the following
    // e-mails to Christine Proust...


    //     Date: Sun, 10 Mar 2013 16:09:53 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: "christine.proust" <christine.proust@wanadoo.fr>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    //
    // Chère Christine,
    //
    // Merci beaucoup pour ces textes ! Je vais me régaler : c'est
    // vraiment joli, le cunéiforme.
    //
    // Bon après-midi !
    //
    // Baptiste.


    //     Date: Sun, 10 Mar 2013 17:22:45 +0100
    //     From: "christine.proust" <christine.proust@wanadoo.fr>
    //     To: Baptiste Mélès <baptiste.meles@gmail.com>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    //
    // Attention, c'est dangereux le cunéiforme, c'est tellement beau qu'on
    // tombe facilement dedans!
    // bonne lecture
    // chr


    //     Date: Mon, 11 Mar 2013 18:41:46 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: "christine.proust" <christine.proust@wanadoo.fr>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    //
    // Chère Christine,
    //
    // > Attention, c'est dangereux le cunéiforme, c'est tellement beau
    // > qu'on tombe facilement dedans!
    //
    // Tu as bien raison : je me demande même si je ne vais pas arracher
    // quatre boules toutes les deux tringles de mon boulier pour
    // pouvoir compter en base 60 dans la vie de tous les jours.
    //
    // À ce propos, connais-tu un logiciel magique pour vérifier
    // facilement les calculs en base 60 ? Pour l'instant, je les fais
    // sur papier ou sur boulier, avec la règle à calcul en guise de
    // table d'inverses, mais je me demande si je ne vais pas faire un
    // petit programme pour me simplifier la vie...
    //
    // Bonne semaine,
    //
    // Baptiste.


    //     Date: Mon, 11 Mar 2013 19:07:11 +0100
    //     From: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     To: Baptiste Mélès <baptiste.meles@gmail.com>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Tu sauras tout sur le calcul sexagésimal avec des jetons lors de la
    // séance du 12 juin.
    // En attendant, j'ai bien évidemment programmé le calcul positionnel
    //     sexagésimal flottant, avec des opérations qui font:
    // - la suppression des ordres de grandeurs
    // - la multiplication
    // - l'inversion des nombres réguliers
    // - les racines carrées et cubiques (quand elles sont exactes)
    // - les décompositions en facteur premiers
    // - la liste des nombres réguliers étant donnés le premier chiffre et le
    // nombre de positions sexagésimales
    // - la conversion base 10 / base 60 et vice versa
    // - des tables diverses
    // etc
    // Je l'ai fait avec Mathematica. Si tu es équipé, je t'envoie les
    // fichiers tout de suite. Sinon, il faudra que tu l'installes.


    //     Date: Tue, 12 Mar 2013 08:15:38 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    //
    // Chère Christine,
    //
    // Hélas, je n'ai pas Mathematica, mais j'aimerais bien jeter un
    // coup d'œil à ton code source (dont la liste de fonctionnalités
    // aurait fait saliver plus d'un scribe !), pour pouvoir l'adapter
    // sur mes logiciels...
    //
    // Bonne journée et merci !
    //
    // Baptiste.


    //     Date: Tue, 12 Mar 2013 11:00:18 +0100
    //     From: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     To: Baptiste Mélès <baptiste.meles@gmail.com>, pichaigneau
    //         <pichaigneau@laposte.net>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // [-- Attachement #1 --]
    // [-- Type : text/plain, Codage : 8bit, Taille : 1,8K --]
    //
    // Cher Baptiste, Je n'ai pas le code source car j'ai utilisé les
    // fonctions prédéfinies de Mathematica. Tu trouveras ci-joint le
    // fichier où j'ai écrit les lignes de programme (calculette noyau),
    // et le fichier contenant uniquement la liste des fonctions que
    // j'utilise au quotidien (calculette active). Je sépare les deux
    // fichiers pour éviter d'introduire des bugs par mégarde dans mes
    // lignes de programme. Je te mets aussi une notice avec quelques
    // explications.
    //     Si tu arrives à transformer tout cela en utilisant un
    // logiciel libre, tu auras fait une oeuvre d'intérêt général de
    // grande importance. En effet, je ne pense pas que des fonctions
    // aussi simples que celles dont on a besoin pour le calcul
    // sexagésimal flottant nécessitent la grosse machinerie
    // Mathematica, et j'aimerais bien rendre ma calculette babylonienne
    // accessible à tous sur le web, ce que Mathematica ne permet pas à
    // cause de ses droits de propriété.
    // Je mets Pierre en copie de ce message car il est lui aussi intéressé
    // par l'idée de la mise en service publique de ma calculette magique.
    // bien à toi
    // Christine


    //     Date: Tue, 12 Mar 2013 14:27:05 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     CC: pichaigneau <pichaigneau@laposte.net>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Chère Christine, cher Pierre,
    //
    // Parfait, cela m'amusera beaucoup !
    //
    // Je pense que je vais programmer ta calculatrice mésopotamienne en
    // JavaScript, ce qui permettra de l'utiliser aussi facilement sur
    // un ordinateur local — quel que soit son système d'exploitation —
    // que sur Internet.
    //
    // (Voilà pour la raison officielle. La vraie raison est que je
    // voulais apprendre le JavaScript depuis quelque temps et que c'est
    // l'occasion rêvée.)
    //
    // Si tu n'as pas d'objection, je suis assez partisan de la licence
    // GPL : n'importe qui pourra copier le fichier, le modifier, et
    // redistribuer ses modifications — à condition, toutefois, que ce
    // soit en offrant aux utilisateurs suivants les mêmes libertés.
    //
    // Dans mes rêves les plus fous, une première version serait prête
    // pour le colloque SAW : je m'y mets tout de suite.
    //
    // À bientôt,
    //
    // Baptiste.


    //     Date: Tue, 12 Mar 2013 14:38:14 +0100
    //     From: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     To: Baptiste Mélès <baptiste.meles@gmail.com>
    //     CC: pichaigneau <pichaigneau@laposte.net>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Géant! mille mercis.
    // chr


    //     Date: Tue, 12 Mar 2013 16:42:57 +0100
    //     From: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     To: pichaigneau@laposte.net
    //     CC: Baptiste Mélès <baptiste.meles@gmail.com>
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Va pour GPL. J'ignore totalement de quoi il s'agit, mais
    // renseignements pris auprès de Wikipedia, l'idée me paraît
    // sympathique. chr


    //     Date: Tue, 12 Mar 2013 18:06:27 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     CC: pichaigneau@laposte.net
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Chère Christine, cher Pierre,
    //
    // Pardon, j'ai été un peu laconique pour la licence... Voici donc
    // un peu plus de détails sur l'idée générale qui a donné naissance
    // à la GPL.
    //
    // Il existait, d'un côté, des logiciels propriétaires, c'est-à-dire
    // dont le code source est secret, que l'utilisateur ne peut donc
    // pas modifier, et encore moins copier ou redistribuer.
    //
    // D'un autre côté, il existait des licences libres « un peu trop
    // libres » (comme la licence BSD), qui laissait à l'utilisateur
    // toute liberté (copie, modification, redistribution)... y compris
    // celle de piller un code source libre pour en faire un code
    // propriétaire.
    //
    // La licence GPL, pour éviter cette dernière dérive, est munie de
    // ce que l'on appelle une « clause virale » : on laisse toute
    // liberté à l'utilisateur, à condition qu'il ne privatise pas le
    // code, et qu'il fasse profiter les autres des libertés dont il a
    // lui-même profité.
    //
    // Vous pourrez donc faire tout ce que vous voulez de mon programme
    // si vous voulez le réutiliser ailleurs, sans avoir à solliciter
    // mon autorisation. Enfin, une fois que je l'aurai écrit...
    //
    // Bonne soirée !
    //
    // Baptiste.


    //     Date: Wed, 13 Mar 2013 11:10:04 +0100
    //     From: Baptiste Mélès <baptiste.meles@gmail.com>
    //     To: Christine Proust <christine.proust@paris7.jussieu.fr>
    //     CC: pichaigneau@laposte.net
    //     Subject: Re: Classiques des mathématiques mésopotamiennes
    // 
    // Chère Christine, cher Pierre,
    //
    // Et voici une première version de la calculatrice mésopotamienne !
    // http://baptiste.meles.free.fr/site/mesocalc.html
    //
    // Elle pèse seulement 32 Ko, pour environ 300 lignes de code. Vous
    // pouvez l'utiliser en ligne, ou copier le fichier HTML sur votre
    // ordinateur local et l'utiliser hors connexion. L'interface est
    // rudimentaire, mais on ne fera de toute façon jamais aussi beau
    // qu'une tablette d'argile.
    //
    // Il me reste à implanter quelques fonctions de la liste de
    // Christine :
    //
    // - inversion ;
    // - quotient ;
    // - règle de trois ;
    // - table de multiplication ;
    // - liste des nombres réguliers étant donnés le premier chiffre et le
    // nombre de chiffres ;
    // - décomposition en facteurs premiers ;
    // - suite géométrique de premier terme, raison et nombre de termes donnés.
    //
    // Signalez-moi si vous détectez des bogues ou désirez de nouvelles
    // fonctionnalités !
    //
    // Une question, par exemple : faut-il que je supprime par défaut
    // les ordres de grandeur (en écrivant 30.0 x 3 = 1.30 au lieu de
    // 1.30.0) ?
    //
    // N'hésitez pas à faire tester ce programme par vos amis
    // mésopotamistes...
    //
    // À bientôt,
    //
    // Baptiste.
}






////////////////////////////////////////////////////////////////
// Additions
////////////////////////////////////////////////////////////////

// These are the algorithms for addition. They do not deal with HTML:
// that is pure JavaScript.


// Sexagesimal addition.
function addition_sexa(nb1, nb2) {
    var base = 60;
    var result = addition_general(nb1, nb2, base);

    return result;
}


// Decimal addition.
function addition_deci(nb1, nb2) {
    var base = 10;
    var result = addition_general(nb1, nb2, base);

    return result;
}



////////////////////////////////////////////////////////////////
// Addition forms
////////////////////////////////////////////////////////////////

// These are the algorithms for the addition forms. They do deal with
// HTML.


// This function initializes the addition formular.
function clear_addition(form) {

    // Initialize the addition fields, to avoid side effects.
    for (var i = 1; i <= nb_additions; i++) {
        form["input" + i].value = "";
        addenda[i] = 0;
    }
    nb_additions = 2;

    // Display it (namely nothing!).
    document.getElementById('nouv_addition').innerHTML = "";
    document.getElementById('tableau_addition').innerHTML = "";
    document.getElementById('addenda1').focus();
}


function addition(form) {
    // addenda[] is an array, where addenda[1], addenda[2] etc. will be
    // the operands (if they are undefined, they will be treated
    // as 0). The sum will be stored in addenda[0].
    addenda[0] = "0";

    // If all input numbers are sexas, we add them.
    for (var i = 1; i <= nb_additions; i++) {
        var sexa = form["input" + i].value;

        // Every empty field is treated as 0 in "sexa", but displayed as
        // empty in "addenda[i]".
        if (!sexa) 
            sexa = "0";

        // if (!is_sexa(sexa)) {
        //     form.output.value = not_sexas;
        //     return;
        // } else {
        addenda[i] = form["input" + i].value;
        addenda[0] = addition_sexa(addenda[0], sexa);
    }


    // This is a magic feature: each time you perform an addition, a new
    // addition field is given. Thus you can perform n-ary additions
    // very easily.
    var contenu = "";
    nb_additions++; // The number of addenda, first defined in main().

    for (var i = 3; i <= nb_additions; i++) {
        contenu = contenu
            + "+ <input type='text' "
            + " name='input" + i + "' "
            + " id='addenda" + i + "' "
            + ' value="' + ((addenda[i]) ? addenda[i] : "") + '" '
            + " onKeyPress=\"if (event.keyCode == 13) addition(this.form)\" />";
    }

    // Display the result.
    document.getElementById('nouv_addition').innerHTML = contenu;


    // Display the result in a table.
    var result = "<p><table align=\"center\">" 
        + "<tr><th>Addition</th></tr>";
    for (var i = 1; i < nb_additions; i++) {
        result = addenda[i] ? 
            result + '<tr><td align="right"> ' 
            + addenda[i]
            + '</td></tr>'
            : result;
    }
    result += '<tr><td></td></tr><tr><td align="right"><strong>= ' + addenda[0] 
        + '</strong></td></tr>'
        + "</table></p>";
    document.getElementById('tableau_addition').innerHTML = result;


    // Give the focus to the new field.
    document.getElementById("addenda" + nb_additions).focus();
}



////////////////////////////////////////////////////////////////
// Subtractions
////////////////////////////////////////////////////////////////

// These functions are pure JavaScript. They do not deal with HTML.


// This function performs the subtraction of sexas.
function subtraction_sexa(nb1, nb2) {

    var base = "60";
    var result = subtraction_general(nb1, nb2, base);

    return result;
}



// This function performs the subtraction of decimal numbers.
function subtraction_deci(nb1, nb2) {

    // This function is probably useless in this source code. It is just
    // here for the sake of generality and symmetry :-)
    var base = "10";
    var result = subtraction_general(nb1, nb2, base);

    return result;
}



////////////////////////////////////////////////////////////////
// Subtraction forms
////////////////////////////////////////////////////////////////


// These functions are related with the subtraction forms. They do deal
// with HTML.


// This function clears the subtraction form.
function clear_soustraction(form) {

    // Initialize the subtraction fields.
    for (var i = 1; i <= nb_soustractions; i++) {
        form["input" + i].value = "";
        subtrahenda[i] = 0;
    }
    nb_soustractions = 2; // Number of subtrahenda, defined in main().

    // Display it (namely nothing).
    document.getElementById('nouv_soustraction').innerHTML = "";
    document.getElementById('tableau_soustraction').innerHTML = "";
    document.getElementById('subtrahenda1').focus();
}


// This function handles the subtraction formular.
function soustraction(form) {

    // If all numbers are sexas, subtract them.
    for (var i = 1; i <= nb_soustractions; i++) {
        var sexa = form["input" + i].value;
        subtrahenda[i] = form["input" + i].value;
    }


    // subtrahenda[0] will contain the result; subtrahenda[1] is the
    // first number, from which the following ones will be subtracted.
    if (!subtrahenda[1])
        subtrahenda[1] = "0";
    subtrahenda[0] = subtrahenda[1];

    // Perform the subtractions.
    for (var i = 2; i <= nb_soustractions; i++) {
        // If subtrahenda[i] is empty, it will be displayed as empty,
        // but treated as 0.
        var sexa = subtrahenda[i] ? subtrahenda[i] : "0";

        if (less_equal_sexa(sexa, subtrahenda[0])) { 
            subtrahenda[0] = subtraction_sexa(subtrahenda[0], sexa);
        } else {
            // Abort if the result is negative.
            subtrahenda[0] = negative;
            break;
        }
    }

    // A magic feature: each time a subtraction is performed, add a new
    // subtraction field. So you can perform n-ary subtractions.
    var contenu = "";
    nb_soustractions++; // First defined in main().

    for (var i = 3; i <= nb_soustractions; i++) {
        contenu = contenu
            + "- <input type='text' "
            + " name='input" + i + "' "
            + " id='subtrahenda" + i + "' "
            + ' value="' + ((subtrahenda[i]) ? subtrahenda[i] : "") + '" '
            + " onKeyPress=\"if (event.keyCode == 13) soustraction(this.form)\" />";
    }

    // Display the result.
    document.getElementById('nouv_soustraction').innerHTML = contenu;

    // Display the computation in a table.
    var result = "<p><table align=\"center\">" 
        + "<tr><th>Subtraction</th></tr>";
    for (var i = 1; i < nb_soustractions; i++) {
        result = subtrahenda[i] ?
            result + '<tr><td align="right"> ' 
            + (subtrahenda[i] ? subtrahenda[i] : "0")
            + '</td></tr>'
        : result;
    }
    result += '<tr><td></td></tr><tr><td align="right"><strong>= ' 
        + subtrahenda[0] 
        + '</strong></td></tr>'
        + "</table></p>";
    document.getElementById('tableau_soustraction').innerHTML = result;

    // Give the focus to the new subtraction field.
    document.getElementById("subtrahenda" + nb_soustractions).focus();
}






////////////////////////////////////////////////////////////////
// Multiplications
////////////////////////////////////////////////////////////////


// These functions are pure JavaScript. They do not deal with HTML.


// Decimal multiplication.
function multiplication_deci(nb1, nb2) {
    var base = 10;
    var result = multiplication_general(nb1, nb2, base);

    return result;
}


// Absolute sexagesimal multiplication.
function multiplication_sexa_absolu(nb1, nb2) {
    var base = 60;
    var result = multiplication_general(nb1, nb2, base);

    return result;
}


// Floating or absolute sexagesimal multiplication.
function multiplication_sexa(nb1, nb2) {
    var base = 60;
    var result = multiplication_sexa_absolu(nb1, nb2, base);

    return floating_or_absolute(result);
}



////////////////////////////////////////////////////////////////
// Multiplication forms
////////////////////////////////////////////////////////////////


// These functions are related with the multiplication forms. They do
// deal with HTML.


function clear_multiplication(form) {
    // This function clears the multiplication formular.

    // Reset the multiplication fields.
    for (var i = 1; i <= nb_multiplications; i++) {
        form["input" + i].value = "";
        multiplicanda[i] = "";
    }
    nb_multiplications = 2;

    // Display it (namely nothing).
    document.getElementById('nouv_multiplication').innerHTML = "";
    document.getElementById('tableau_multiplication').innerHTML = "";
    document.getElementById('multiplicanda1').focus();
}




function multiplication(form) {

    // On rangera ici le produit.
    multiplicanda[0] = "1";

    // On fait la multiplication si tout est sexagésimal.
    for (var i = 1; i <= nb_multiplications; i++) {
        var sexa = form["input" + i].value;

        multiplicanda[i] = form["input" + i].value;
        multiplicanda[0] = 
            multiplication_sexa(multiplicanda[0], 
                                multiplicanda[i] ? multiplicanda[i] : "1");
    }

    // Et on ajoute des boîtes de multiplication.
    var contenu = "";
    nb_multiplications++;

    for (var i = 3; i <= nb_multiplications; i++) {
        contenu = contenu
            + "&times; <input type='text' "
            + " name='input" + i + "' "
            + " id='multiplicanda" + i + "' "
            + ' value="' + ((multiplicanda[i]) ? multiplicanda[i] : "") + '" '
            + " onKeyPress=\"if (event.keyCode == 13) multiplication(this.form)\" />";
    }

    document.getElementById('nouv_multiplication').innerHTML = contenu;

    var result = "<p><table align=\"center\">" 
        + "<tr><th>Multiplication</th></tr>";
    for (var i = 1; i < nb_multiplications; i++) {
        result = multiplicanda[i] ? 
            result + '<tr><td align="right"> ' 
            + multiplicanda[i]
            + '</td></tr>'
            : result;
    }
    result += '<tr><td></td></tr><tr><td align="right"><strong>= ' + multiplicanda[0] 
        + '</strong></td></tr>'
        + "</table></p>";

    document.getElementById('tableau_multiplication').innerHTML = result;

    // Donner le focus au nouveau nombre.
    document.getElementById("multiplicanda" + nb_multiplications).focus();
}



////////////////////////////////////////////////////////////////
// Divisions
////////////////////////////////////////////////////////////////


// Division for sexagesimal numbers. This function returns both
// result["quotient"] and result["remainder"].
function division_sexa(dividend, divisor) {

         var result = new Object();

         if (sexa_floating) {
           result["quotient"] = multiplication_sexa(dividend, igi(divisor));
           result["remainder"] = "0";
       } else {
           return division_sexa_absolute(dividend, divisor);
       }

    // The result is a hash table: it contains both result["quotient"]
    // and result["remainder"].
    return result;
}



// Division for sexagesimal numbers. This function returns both
// result["quotient"] and result["remainder"].
function division_sexa_absolute(dividend, divisor) {

         var result = new Object();
         var result_deci = // This is a trick, using a decimal computation. That
         // is because my division_general algorithm is still
         // not so general... Fortunately, this is harmless,
         // because we do not use big numbers.
         division_general(Sexa_vers_deci(dividend), 
                          Sexa_vers_deci(divisor),
                          "10");
         result["quotient"] = Deci_to_sexa_absolute(result_deci["quotient"]);
         result["remainder"] = Deci_to_sexa_absolute(result_deci["remainder"]);
         

    // The result is a hash table: it contains both result["quotient"]
    // and result["remainder"].
    return result;
}



// Division for decimal numbers. This function returns both
// result["quotient"] and result["remainder"].
function division_deci(dividend, divisor) {

    var result = division_general(dividend, divisor, "10");

    // The result is a hash table: it contains both result["quotient"]
    // and result["remainder"].
    return result;
}



// Quotient of a sexagesimal division.
function quotient_sexa(dividend, divisor) {

    var result = multiplication_sexa(dividend, igi(divisor));

    // This is like division_sexa, but we return directly
    // result["quotient"].
    return result;
}


// Quotient of a decimal division.
function quotient_deci(dividend, divisor) {

    var result = division_general(dividend, divisor, "10")["quotient"];

    // This is like division_deci, but we return directly
    // result["quotient"].
    return result;
}


// Remainder of a sexagesimal division (like the "%" in native
// JavaScript).
function remainder_sexa(dividend, divisor) {

    var result = 
        Deci_to_sexa_absolute(division_general(Sexa_vers_deci(dividend), 
                                               Sexa_vers_deci(divisor),
                                               "10")["remainder"]);

    // This is like division_sexa, but we return directly
    // result["remainder"].
    return result;
}



// Remainder of a decimal division (like the "%" in native JavaScript).
function remainder_deci(dividend, divisor) {

    var result = division_general(dividend, divisor, "10")["remainder"];

    // This is like division_deci, but we return directly
    // result["remainder"].
    return result;
}



function prime_list_to_igi(prime_list) {

    // Description of the "Lottery algorithm" to compute the reciprocal
    // number.
    //
    // The idea is that we have a lottery grid, which is formatted like
    // the following:
    // 
    // (2 2 3 5)
    // (2 2 3 5)
    // (2 2 3 5)
    // (2 2 3 5)
    // (2 2 3 5)
    // (2 2 3 5)
    //  ...
    // 
    // Now, we take the regular number of which we are searching the
    // reciprocal. We take the list of its prime factors: say 2, 2, 2,
    // 2, 2, 2, 2, 3, 3, 5, 5, 5 for the number 40.0.0 (= 144000). We
    // fill out the grid from top to bottom and we get:
    //
    // (X X X X)
    // (X X X X)
    // (X X 3 X)
    // (X 2 3 5)
    // (2 2 3 5)
    // (2 2 3 5)
    //  ...
    // 
    // How many lines do we need? Four. So, in the first four lines, we
    // compute the product of all non-checked numbers, which is 2*3*3*5
    // = 1.30.
    //
    // The demonstration is easy: the product of both numbers is a power
    // of 60, for it is a power of the number encoded by each of these
    // lines, which is 2*2*3*5 = 60.
    //
    // In abstract terms: 
    //
    // Let nb2 (resp. nb3, nb5) be the number of 2's (resp. of 3's, of
    // 5's) in the list of prime factors of a regular number. The
    // reciprocal of this number is:
    //
    //             2^(2n-nb2) * 3^(n-nb3) * 5^(n - nb5).
    //
    // Now, let us comment on this algorithm line by line.
    //

    // We have to count the number of 2, 3 and 5 in the list of prime
    // factors.
    var nb2 = prime_list["nb2"];
    var nb3 = prime_list["nb3"];
    var nb5 = prime_list["nb5"];
    var lines = 0; // The power of 60 which will be needed.
    var result = "";

    // How many lines do we need?
    lines = Math.ceil(Math.max(Math.max(nb2/2, nb3), nb5));

    // Compute the respective powers of 2, 3 and 5 of the reciprocal number. 
    var power2 = Deci_to_sexa_absolute(2*lines - nb2);
    var power3 = Deci_to_sexa_absolute(lines - nb3);
    var power5 = Deci_to_sexa_absolute(lines - nb5);

    // Compute the reciprocal number (floating or absolute).
    result = multiplication_sexa(power_sexa("2", power2),
                                 multiplication_sexa(
                                     power_sexa("3", power3),
                                     power_sexa("5", power5)));

    // Return the result.
    return floating(result);
}



// This function computes the "igi" (reciprocal number) of a given
// number, which is such that there exists some "n" such that
// number*igi=60^n.
function igi(sexa) {

    var result;

    // Take the list of prime factors. If it is the one of a regular
    // number, then use it to compute its reciprocal number.
    if (prime_list = is_regular(sexa))
        result = floating(prime_list_to_igi(prime_list));

    else // Otherwise, the result is undefined.
        result = nu;

    // Return result.
    return result;
}



// Simplification of fractions. The numerator and denominator are both
// given in decimal notation, and returned in sexagesimal notation
// (there is probably a good reason for that, but I never knew or I
// forgot. Or is it a bug?).
function simplif_fraction(numerator, denominator) {

    // We try all numbers which are less than the minimum of the
    // numerator and the denominator.
    for (var i = "2"; 
         less_equal_deci(i, 
                         min_deci(String(numerator), 
                                  String(denominator)));
         i = addition_deci(i, "1")) {

        // We divide both the numerator and the denominator by their
        // common divisor, if any.
        while (remainder_deci(numerator, i) == "0" 
               && remainder_deci(denominator, i) == "0") {
            numerator = quotient_deci(numerator, i);
            denominator = quotient_deci(denominator, i);
        }
    }

    // Now we send the result.
    var result = Deci_to_sexa_absolute(numerator) 
        + "/" + Deci_to_sexa_absolute(denominator);

    return result;
}



////////////////////////////////////////////////////////////////
// Division forms
////////////////////////////////////////////////////////////////


// These functions are related with the division forms. They do deal
// with HTML.

// This function initializes the addition formular.
function clear_quotient(form) {

    form.reset(); 
    document.getElementById('quotient').innerHTML = "";
    document.getElementById('quotient_input1').focus();
}


function quotient(form) {

    var dividend = form.input1.value;
    var divisor = form.input2.value;

    var result = 
        (is_sexa(dividend) && is_sexa(divisor)) ? 
        ((is_regular(divisor)) ? floating(quotient_sexa(dividend, divisor)) 
         : "Divisor is not regular.")
    : not_sexas;

    display_result(result, "quotient");
}


function regle_trois(form) {
    // Reset the output.
    form.output.value = "";

    var ara1 = form.input2.value;
    var ara2 = form.input3.value;
    var divisor = form.input1.value;

    if (!is_sexa(ara1) || !is_sexa(ara2) || !is_sexa(divisor))
        return not_sexas;
    else {
        var deci1 = Sexa_vers_deci(ara1);
        var deci2 = Sexa_vers_deci(ara2);
        var deci3 = Sexa_vers_deci(divisor);

        form.output.value = is_regular(divisor) ? 
            floating(quotient_sexa(multiplication_sexa(ara1, ara2), divisor)) 
            : "First number is not regular.";
    }
}



function inverse(form) {

    var sexa = form.input.value;
    var prime_list = new Array();
    var result;

    // Check if the number is sexagesimal.
    if (is_sexa(sexa)) {

        // We take the list of prime factors and then use it to compute
        // the reciprocal number. Otherwise, we would have to compute
        // two times the prime factors.
        if (prime_list = is_regular(sexa)) 
            result = prime_list_to_igi(prime_list);
        else 
            result = nu;

    } else
        result = not_sexa;

    // Display the result.
    display_result(result, "igi");
}


////////////////////////////////////////////////////////////////
// Powers and roots
////////////////////////////////////////////////////////////////

// These functions are pure mathematics---sorry, I meant pure
// JavaScript. They do not deal with HTML.


// This function computes sexagesimal powers.
function power_sexa(nb, power_nb) {
    var base = "60";
    var result = power_general(nb, power_nb, base);

    return result;
}


// This function computes decimal powers. Probably useless. Just for the
// sake of generality and symmetry.
function power_deci(nb, power_nb) {
    var base = "10";
    var result = power_general(nb, power_nb, base);

    return result;
}



// This functions computes n-th roots of sexagesimal numbers, such as
// square roots or cube roots.
function nth_root(sexa, root) {

    // This algorithm was given by Christine Proust. The idea is the
    // following: to compute the square root of a number, check if all
    // its prime factors have an even number of occurrences; if yes,
    // take one of them on two and we multiply them; if not, you can fix
    // things for 2, 3 and 5 by multiplying the number by 60.
    //
    // As Christine has suggested, this algorithm is easy to generalize
    // to an arbitrary base. This is what is done below.
    //
    // This algorithm does not use big numbers. It is quite quick
    // (except concerning the factorization) and is not affected by
    // JavaScript's limit of 2^53.
    //

    // The list of prime factors.
    var primes = prime_factors(sexa); 
    var result = "1";

    // Count the occurrences of each prime factor.
    var counts = {};
    counts["2"] = 0; 
    counts["3"] = 0; 
    counts["5"] = 0;

    for (var i = 0; i < primes.length; i++) {
        var value = primes[i];
        if (typeof counts[value] === "undefined") {
            counts[value] = 1;
        } else {
            counts[value]++;
        }
    }

    // All factors (except 2, 3 and 5) must have a number of occurrences
    // which is a multiple of the root. Otherwise, the result is
    // undefined.
    for (var key in counts) {
        if (key != "2" && key != "3" && key != "5" 
            && counts[key] % root != 0)
            return nu;
    }

    // The numbers of occurrences of 3 and 5 must be congruent with
    // respect to the root. Otherwise, the result is undefined.
    if (counts["3"] % root != counts["5"] % root) {
        return nu;
    } 

           // If the number of 3's (and of 5's) is not a multiple of the root,
           // and if in floating mode, then multiply the number by the right
           // power of 60 (i.e of 2*2*3*5).
           if (counts["3"] % root != 0) {
             if (sexa_floating) {
               var shift = counts["3"];
               counts["2"] += 2 * (root - (shift % root));
               counts["3"] += root - (shift % root);
               counts["5"] += root - (shift % root);
           } else {
               return nu;
           }
    }

    // Now 3's and 5's numbers are multiple of the root. Is it still the
    // case for 2's? If not, the result is undefined.
    if (counts["2"] % root != 0) 
        return nu;

    // Since everything seems to go well, now we compute the square
    // root.
    for (var key in counts) {
        result = 
            multiplication_sexa(
                result, 
                power_sexa(key,
                           Deci_to_sexa_absolute(counts[key] / root)));
    }

    // Return result.
    return result;
}



// Sexagesimal square roots.
function square_root_sexa(sexa) {

    var root = 2;
    result = is_sexa(sexa) ? nth_root(sexa, root) : not_sexa;

    return result;
}


// Sexagesimal cubic root.
function cubic_root_sexa(sexa) {

    var root = 3;
    result = is_sexa(sexa) ? nth_root(sexa, root) : not_sexa;

    return result;
}




////////////////////////////////////////////////////////////////
// Powers and root forms
////////////////////////////////////////////////////////////////

// These functions are related with powers and roots forms. They do deal
// with HTML.



function square(form) {

    var sexa = form.input.value;
    var result = is_sexa(sexa) ? 
        floating_or_absolute(power_sexa(sexa, "2")) : not_sexa;

    display_result(result, "square");
}



function square_root(form) {

    var sexa = form.input.value;
    var result = floating_or_absolute(square_root_sexa(sexa));

    display_result(result, "squareroot");
}



function cube(form) {

    var sexa = form.input.value;
    var result = is_sexa(sexa) ? 
        floating_or_absolute(power_sexa(sexa, "3")) : not_sexa;

    display_result(result, "cube");
}


function cubic_root(form) {

    var sexa = form.input.value;
    var result = floating_or_absolute(cubic_root_sexa(sexa));

    display_result(result, "cuberoot");
}


////////////////////////////////////////////////////////////////
// Regularity and factorization
////////////////////////////////////////////////////////////////


// This function tests whether the sexa is regular (a regular number is
// a number such as 2^p * 3^q * 5*r).
function is_regular(sexa) {

    var division = new Array();
    var factors = new Object();
    var divisors = ["30", "5", "3", "2"];

    factors["nb2"] = 0;
    factors["nb3"] = 0;
    factors["nb5"] = 0;

    // Let us take each prime factor of 60 (i. first 5, then 3, finally 2).
    for (var i = 0; i < divisors.length; i++) {

        do { 

            // Try to divide the sexa by the current prime factor of 60.
            division = division_sexa_absolute(sexa, divisors[i]);
            if (division["remainder"] == "0") {

                switch (divisors[i]) {
                case "30":
                    factors["nb2"]++;
                    factors["nb3"]++;
                    factors["nb5"]++;
                    break;

                case "2": 
                    factors["nb2"]++;
                    break;

                case "3": 
                    factors["nb3"]++;
                    break;

                case "5":
                    factors["nb5"]++;                   
                    break;
                }

                sexa = division["quotient"];
            }
        }
        while (division["remainder"] == 0)
    }

    if (sexa == "1")
        return factors;
    else 
        return false;
}



// Return the list of prime factors of a sexagesimal number.
function prime_factors(sexa) {
    var divisor = "2";
    var result = new Array(); // The result is the array of prime
    // factors, such as ["2", "2", "3", "5"].
    var i = 0; // Indices for the result array.

    // The square of the divisor must be less than the sexa (except in
    // the case where the sexa itself is a prime number, see below).
    while (less_equal_sexa(multiplication_sexa_absolu(divisor, divisor), 
                           sexa)) {

        // Try to divide the sexa by the divisor.
        var division = division_sexa_absolute(sexa, divisor);

        // If the sexa is a multiple of the divisor, then append the
        // divisor to the list of prime factors and take the quotient as
        // the new sexa.
        if (division["remainder"] == "0")  {
            result[i++] = divisor;
            sexa = division["quotient"];
        }    
        else { // If the sexa is not a multiple of the divisor, try the
            // following divisor.
            divisor = addition_sexa(divisor, "1");             
        }
    }

    // If you have reached the square root of the sexa without having
    // "1" as the result, then the sexa itelf is a prime number.
    if (sexa != "1")
        result[i] = sexa; 

    // Now, return the array of all prime factors.
    return result;
}


function gcd(sexa1, sexa2) {
    var a = new Array();
    var b = new Array();
    var c = new Array(); 
    var result = "1";

    a = prime_factors(sexa1);
    b = prime_factors(sexa2);

    while (a.length > 0 && b.length > 0) { 
        if (less_equal_sexa(a[0], b[0]) && !less_equal_sexa(b[0], a[0])) { 
            a.shift(); 
        }
        else if (less_equal_sexa(b[0], a[0]) && !less_equal_sexa(a[0], b[0])) {
            b.shift(); 
        } 
        else { // If they are equal
            c.push(a.shift()); 
            b.shift(); 
        } 
    }

    while (c.length > 0) {
        result = multiplication_sexa(result, c.shift());
    }

    return result;
}


function regular_approximation (sexa) {

    if (!is_sexa(sexa)) {
        return not_sexa;
    } else if (is_regular(sexa)) {
        approx_list.push(sexa);
    } else {

        var sexa_array = sexa.split(".");
    var approx_list = new Array();
    var inf = new Array();
    var sup = new Array();
    var limit = 3;

// Let us fill empty places with 0's.
        if (sexa_array.length < limit) {
            for (var i = sexa_array.length; i < limit; i++) {
                sexa_array[i] = "0";
            }
        }

// Main loop.
        for (var i = 1; i <= limit; i++) {
            var array_tmp = sexa_array.slice(0, i);
            var comp = array_tmp.join(".");

            while (!is_regular(comp)) {
                var comp = subtraction_sexa(comp, "1");
            }
            inf.push(comp);
        }
        approx_list = inf;
    }


        return approx_list;
}

////////////////////////////////////////////////////////////////
// Regularity and factorization forms
////////////////////////////////////////////////////////////////



function facteurs(form) {

    var sexa = form.input.value;
    var result = "";

    if (!is_sexa(sexa))
        result = not_sexa;
    else
        result = prime_factors(sexa).join(" × ");

    display_result(result, "prime_factors");
}




function regular(form) {

    var sexa = form.input.value;

    var result = (is_sexa(sexa)) ? (is_regular(sexa) ? "yes" : "no")
    : not_sexa;

    display_result(result, "regular_number");
}



function gcd_form(form) {

var sexa1 = form.input1.value;
var sexa2 = form.input2.value;

    var result = (is_sexa(sexa1) && is_sexa(sexa2)) ? 
gcd(sexa1, sexa2) : not_sexa;

    display_result(result, "gcd");
}



////////////////////////////////////////////////////////////////
// Comparison of numbers
////////////////////////////////////////////////////////////////


// Minimum of two numbers.
function min_general(nb1, nb2, base) {

    if (less_equal(nb1, nb2, base)) 
        return nb1;
    else 
        return nb2;
}


// Minimum of two decimal numbers.
function min_deci(nb1, nb2, base) {

    var base = "10";
    var result = min_general(nb1, nb2, base);

    return result;
}


// Mimimum of two sexagesimal numbers.
function min_sexa(nb1, nb2, base) {

    var base = "60";
    var result = min_general(nb1, nb2, base);

    return result;
}



// This function tests whether the first number is less than or equal to
// the second. (The difference with JavaScript's native "<=" is that
// this algorithm is base-independant and works beyond 2^53).
function less_equal(nb1, nb2, base) {

    // The digit separator: "" until 10, "." for higher bases such as 60.
    var separator = base <= 10 ? "" : ".";

    // Handle numbers as strings of digits.
    var array_nb1 = nb1.split(separator);
    var array_nb2 = nb2.split(separator);

    // If the two numbers do not have the same number of digits.
    if (array_nb1.length < array_nb2.length) { // If the second number
        // is longer than the first.
        return true;
    } 
    if (array_nb1.length > array_nb2.length) { // If the second number
        // is longer than the first.
        return false;
    } 


    // If both numbers have the same number of digits.
    for (var i = 0; i < array_nb1.length; i++) {
        if (parseInt(array_nb1[i]) < parseInt(array_nb2[i])) {
            return true;
        }
        if (parseInt(array_nb1[i]) > parseInt(array_nb2[i])) {
            return false;
        }
    }

    // If the two numbers are equal.
    return true;
    
}


function less_equal_sexa(nb1, nb2) {
    var base = 60;
    return less_equal(nb1, nb2, base);
}

function less_equal_deci(nb1, nb2) {
    var base = 10;
    return less_equal(nb1, nb2, base);
}




////////////////////////////////////////////////////////////////
// Tables (in forms)
////////////////////////////////////////////////////////////////


// Sexagesimal multiplication tables, as they were made in Mesopotamia.
function mult_table(form) {
    var sexa = form.input.value;

    if (!sexa) {
        result = "";
    } else {
        if (!is_sexa(sexa)) {
            result = not_sexa;
        } else {
            var result = '<p><table align=\"center\">'
                + '<th colspan="2">Multiplication table of ' + sexa + '</th>';

            // The Mesopotamian multiplication tables contained all
            // multiples from 1 to 20, and then 30, 40 and 50.
            var i = "1";
            while (less_equal_sexa(i, "59")) {
                result += "<tr><td>" + i + '</td><td align="right">'
                    + multiplication_sexa(sexa, i) // Floating or absolute.
                    + "</td></tr>";

                i =  less_equal_sexa(i, "19") ? i = addition_sexa(i, "1") 
                    : i = addition_sexa(i, "10");
            }

            result += "</table></p>";
        }
    }

    document.getElementById('mult_tableau').innerHTML = result;
}



function square_table(form) {
    if (affiche_table_carres) {
        affiche_table_carres = false;
        result = "";
    } else {
        affiche_table_carres = true;
        var result = '<p><table align=\"center\">' 
            + '<th colspan="2">Table of squares</th>';

        for (var i = "1";
             less_equal_sexa(i, "59");
             i = addition_sexa(i, "1")) {

            result += "<tr><td>" 
                + floating_or_absolute(i) 
                + '</td><td align="right">'
                + floating(multiplication_sexa(i, i))
                + "</td></tr>";
        }
        
        result += "</table></p>";
    }
    document.getElementById('square_tableau').innerHTML = result;
}



function square_root_table(form) {
    if (affiche_table_racines_carrees) {
        affiche_table_racines_carrees = false;
        result = "";
    } else {
        affiche_table_racines_carrees = true;
        var result = "<p><table align=\"center\">" 
            + '<th colspan="2">Table of square roots</th>';
        var entrees = new Array;

        // The table must display the square roots 1 to 59, and then 1,
        // 1.1, 1.1.1, 1.1.1.1 (see Christine Proust, _Tablettes
        // mathématiques de Nippur_, 2007, p. 323)
        var i = "1";
        while (less_equal_sexa(i, power_sexa("1.0", "4"))) {
            result += "<tr><td>" 
                + floating_or_absolute(multiplication_sexa_absolu(i, i))
                + '</td><td align="right">'
                + floating_or_absolute(i)
                + "</td></tr>";

            i = less_equal_sexa(i, "1.0") ? addition_sexa(i, "1")
                : addition_sexa(multiplication_sexa_absolu(i, "1.0"), "1");
        }
        
        result += "</table></p>";
    }
    document.getElementById('square_root_tableau').innerHTML = result;
}




function cube_root_table(form) {
    if (affiche_table_racines_cubiques) {
        affiche_table_racines_cubiques = false;
        result = "";
    } else {
        affiche_table_racines_cubiques = true;
        var result = "<p><table align=\"center\">" 
            + '<th colspan="2">Table of cube roots</th>';

        var i = "1";
        while (less_equal_sexa(i, "40")) {
            result += "<tr><td>" 
                + floating(power_sexa(i, "3"))
                + '</td><td align="right">'
                + floating_or_absolute(i)
                + "</td></tr>";

            i = less_equal_sexa(i, "19") ? addition_sexa(i, "1")
                : addition_sexa(i, "10");
        }
        
        result += "</table></p>";
    }
    document.getElementById('cube_root_tableau').innerHTML = result;
}




function geom(form) {
    var first = form.first.value;
    var ratio = form.ratio.value;
    var terms = form.terms.value;
    var result = "";

    if (!first)
        first = "1";
    if (!ratio)
        ratio = "1";
    if (!terms)
        terms = "1";

    if (!is_sexa(first) || !is_sexa(ratio)) {
        result = "Not sexagesimal numbers.";
    } else
        if (!is_int(terms) || terms < 1) {
            result = "Wrong number of terms.";
            return;
        } else {

            result = "<p><table align=\"center\">"
                + "<tr><th>Term</th><th>Value</th>"
                + "<th>Reciprocal</th></tr>";

            for (var i = "0"; 
                 less_equal_sexa(i, Deci_to_sexa_absolute(terms));
                 i = addition_sexa(i, "1")) {

                var terme2 = power_sexa(ratio, i);
                var terme3 = multiplication_sexa(terme2, first);

                result += "<tr><td>"
                    + i
                    + "</td><td>"
                    + terme3
                    + "</td><td>"
                    + igi(terme3)
                    + "</td></tr>";
            }
            result += "</table></p>";

        }

    document.getElementById('geom_tableau').innerHTML = result;
}



function inverse_table(form) {
    var result = "";
    var deci = 0;
    var prime_list = new Array();

    if (affiche_table_inverse) {
        affiche_table_inverse = false;
        result = "";
    } else {
        affiche_table_inverse = true;
        var result = '<p><table align="center">' 
            + '<tr><th colspan="2">Table of reciprocals</th></tr>';

        for (sexa = "1";
             less_equal_sexa(sexa, "1.21");
             sexa = addition_sexa(sexa, "1")) {

            // Do not permute the two following conditions, i.e the
            // less_equal_sexa() and the is_regular(). Otherwise, you
            // would compute the prime factors of useless numbers.
            // Indeed, computing the prime factors takes a lot of time.
            if ((less_equal_sexa(sexa, "1.0") 
                 || sexa == "1.04" || sexa == "1.4" 
                 || sexa == "1.21"
                ) && (prime_list = is_regular(sexa))) {

                result += "<tr><td>" + sexa + '</td><td align="right">'
                    + igi(sexa) + "</td></tr>";
            }
        }

        result += "</table></p>";
    }

    document.getElementById('inverse_tableau').innerHTML = result;
}




function regular_liste(form) {
    var sexa1 = form.input1.value;
    var sexa2 = form.input2.value;
    var result = "";

    if (!sexa1 || !sexa2) {
        result = "";
    } else {
        if (!is_sexa(sexa1) || !is_sexa(sexa2)) {
            result = not_sexas;
        } else {

            if (!less_equal_sexa(sexa1, sexa2)) {
                var tmp = sexa1;
                sexa1 = sexa2;
                sexa2 = tmp;
            }

            result = '<p><table align="center">' 
                + '<tr> '
                + '<th>Regular numbers between '
                + sexa1 + ' and ' + sexa2 
                + '</th></tr>';

            for (var sexa = sexa1;
                 less_equal_sexa(sexa, sexa2);
                 sexa = addition_sexa(sexa, "1")) {

                if (is_regular(sexa)) {
                    result += "<tr><td>" + floating_or_absolute(sexa) 
                        + "</td>" + '</tr>';
                }
            }
            result += "</table></p>";
        }
    }

    document.getElementById('regular_liste').innerHTML = result;
}


function regular_inverse_liste(form) {
    var sexa1 = form.input1.value;
    var sexa2 = form.input2.value;
    var result = "";
    var prime_list = new Array();

    if (!sexa1 || !sexa2) {
        result = "";
    } else {
        if (!is_sexa(sexa1) || !is_sexa(sexa2)) {
            result = not_sexas;
        } else {

            if (!less_equal_sexa(sexa1, sexa2)) {
                var tmp = sexa1;
                sexa1 = sexa2;
                sexa2 = tmp;
            }

            result = '<p><table align="center">' 
                + '<tr> '
                + '<th colspan="2">Regular numbers and' 
                + ' their reciprocal between '
                + sexa1 + ' and ' + sexa2 
                + '</th></tr>'
                + '<tr><th>Regular numbers</th>' 
                + ' <th>Reciprocal numbers</th></tr>';

            for (var sexa = sexa1;
                 less_equal_sexa(sexa, sexa2);
                 sexa = addition_sexa(sexa, "1")) {

                if (prime_list = is_regular(sexa)) {
                    result += "<tr><td>" + sexa + "</td>"
                        + '<td align="right">' 
                        + prime_list_to_igi(prime_list) + '</td>'
                        + '</tr>';
                }
            }
            result += "</table></p>";
        }
    }

    document.getElementById('regular_inverse_liste').innerHTML = result;
}




////////////////////////////////////////////////////////////////
// Unités de mesure
////////////////////////////////////////////////////////////////

// Ratios
var danna2us_ratio = "30";
var us2ninda_ratio = "1.0";
var ninda2kus_ratio = "12";
var kus2susi_ratio = "30";

var gan2sar_ratio = "1.40";
var sar2gin_ratio = "1.0";
var gin2se_ratio = "3.0";

var gur2bariga_ratio = "5";
var bariga2ban_ratio = "6";
var ban2sila_ratio = "10";
var sila2gin_ratio = "1.0";
// var gin2se_ratio = "3.0";

var gu2mana_ratio = "1.0";
var mana2gin_ratio = "1.0";
// var gin2se_ratio = "3.0";

var danna2us_ratio_deci = parseInt(Sexa_vers_deci(danna2us_ratio));
var us2ninda_ratio_deci = parseInt(Sexa_vers_deci(us2ninda_ratio));
var ninda2kus_ratio_deci = parseInt(Sexa_vers_deci(ninda2kus_ratio));
var kus2susi_ratio_deci = parseInt(Sexa_vers_deci(kus2susi_ratio));

var gan2sar_ratio_deci = parseInt(Sexa_vers_deci(gan2sar_ratio));
var sar2gin_ratio_deci = parseInt(Sexa_vers_deci(sar2gin_ratio));
var gin2se_ratio_deci = parseInt(Sexa_vers_deci(gin2se_ratio));

var gur2bariga_ratio_deci = parseInt(Sexa_vers_deci(gur2bariga_ratio));
var bariga2ban_ratio_deci = parseInt(Sexa_vers_deci(bariga2ban_ratio));
var ban2sila_ratio_deci = parseInt(Sexa_vers_deci(ban2sila_ratio));
var sila2gin_ratio_deci = parseInt(Sexa_vers_deci(sila2gin_ratio));
// var gin2se_ratio_deci = parseInt(Sexa_vers_deci(gin2se_ratio));

var gu2mana_ratio_deci = parseInt(Sexa_vers_deci(gu2mana_ratio));
var mana2gin_ratio_deci = parseInt(Sexa_vers_deci(mana2gin_ratio));
// var gin2se_ratio_deci = parseInt(Sexa_vers_deci(gin2se_ratio));


// Conversion de longueurs
function kus2susi (kus) { 
           return multiplication_sexa_absolu(kus, kus2susi_ratio); }
function ninda2kus (ninda) { 
           return multiplication_sexa_absolu(ninda, ninda2kus_ratio); }
function us2ninda (us) { 
           return multiplication_sexa_absolu(us, us2ninda_ratio); }
function danna2us (danna) { 
           return multiplication_sexa_absolu(danna, danna2us_ratio); }
function ninda2susi (ninda) { return kus2susi(ninda2kus(ninda)); }
function us2susi (us) { return ninda2susi(us2ninda(us)); }
function danna2susi (danna) { return us2susi(danna2us(danna)); }

// Conversion de surfaces et de volumes
function gin2se (gin) { 
           return multiplication_sexa_absolu(gin, gin2se_ratio); }
function sar2gin (sar) { 
           return multiplication_sexa_absolu(sar, sar2gin_ratio); }
function gan2sar (gan) { 
           return multiplication_sexa_absolu(gan, gan2sar_ratio); }
function sar2se (sar) { return gin2se(sar2gin(sar)); }
function gan2se (gan) { return sar2se(gan2sar(gan)); }

// Conversion de poids
//function gin2se (gin) { return multiplication_sexa_absolu(gin, gin2se_ratio); }
function mana2gin (mana) { 
           return multiplication_sexa_absolu(mana, mana2gin_ratio); }
function gu2mana (gu) { 
           return multiplication_sexa_absolu(gu, gu2mana_ratio); }
function mana2se (mana) { return gin2se(mana2gin(mana)); }
function gu2se (gu) { return mana2se(gu2mana(gu)); }

// Conversion de capacités
//function gin2se(gin)  { return multiplication_sexa_absolu(gin, gin2se_ratio); }
function sila2gin (sila) { 
           return multiplication_sexa_absolu(sila, sila2gin_ratio); }
function ban2sila (ban) { 
           return multiplication_sexa_absolu(ban, ban2sila_ratio); }
function bariga2ban (bariga) { 
           return multiplication_sexa_absolu(bariga, bariga2ban_ratio); }
function gur2bariga (gur) { 
           return multiplication_sexa_absolu(gur, gur2bariga_ratio); }
function sila2se (sila) { return gin2se(sila2gin(sila)); }
function ban2se (ban) { return sila2se(ban2sila(ban)); }
function bariga2se (bariga) { return ban2se(bariga2ban(bariga)); }
function gur2se (gur) { return bariga2se(gur2bariga(gur)); }



// Conversions dans la plus petite unité.

function longueur2susi(danna, us, ninda, kus, susi) {
    danna = !danna ? "0" : is_sexa(danna) ? danna : Deci_to_sexa_absolute(danna);
    us = !us ? "0" : is_sexa(us) ? us : Deci_to_sexa_absolute(us);
    ninda = !ninda ? "0" : is_sexa(ninda) ? ninda : Deci_to_sexa_absolute(ninda);
    kus = !kus ? "0" : is_sexa(kus) ? kus : Deci_to_sexa_absolute(kus);
    susi = !susi ? "0" : is_sexa(susi) ? susi : Deci_to_sexa_absolute(susi);

    susi = 
        addition_sexa(
            susi, 
            addition_sexa(
                kus2susi(kus),
                addition_sexa(
                    ninda2susi(ninda),
                    addition_sexa(
                        us2susi(us),
                        danna2susi(danna)))));

    return susi;
}





function surface2se(gan, sar, gin, se) {
    gan = !gan ? "0" : is_sexa(gan) ? gan : Deci_to_sexa_absolute(gan);
    sar = !sar ? "0" : is_sexa(sar) ? sar : Deci_to_sexa_absolute(sar);
    gin = !gin ? "0" : is_sexa(gin) ? gin : Deci_to_sexa_absolute(gin);
    se = !se ? "0" : is_sexa(se) ? se : Deci_to_sexa_absolute(se);

    se = 
        addition_sexa(
            se, 
            addition_sexa(
                gin2se(gin),
                addition_sexa(
                    sar2se(sar),
                    gan2se(gan))));

    return se;
}


function volume2se(gan, sar, gin, se) {
    // Units of volume are computed just like units of surface.
    var result = surface2se(gan, sar, gin, se);

    return result;
}




function poids2se(gu, mana, gin, se) {
    gu = !gu ? "0" : is_sexa(gu) ? gu : Deci_to_sexa_absolute(gu);
    mana = !mana ? "0" : is_sexa(mana) ? mana : Deci_to_sexa_absolute(mana);
    gin = !gin ? "0" : is_sexa(gin) ? gin : Deci_to_sexa_absolute(gin);
    se = !se ? "0" : is_sexa(se) ? se : Deci_to_sexa_absolute(se);

    se = 
        addition_sexa(
            se, 
            addition_sexa(
                gin2se(gin),
                addition_sexa(
                    mana2se(mana),
                    gu2se(gu))));

    return se;
}


function capacite2se(gur, bariga, ban, sila, gin, se) {
    gur = !gur ? "0" : is_sexa(gur) ? gur : Deci_to_sexa_absolute(gur);
    bariga = !bariga ? "0" : is_sexa(bariga) ? bariga : Deci_to_sexa_absolute(bariga);
    ban = !ban ? "0" : is_sexa(ban) ? ban : Deci_to_sexa_absolute(ban);
    sila = !sila ? "0" : is_sexa(sila) ? sila : Deci_to_sexa_absolute(sila);
    gin = !gin ? "0" : is_sexa(gin) ? gin : Deci_to_sexa_absolute(gin);
    se = !se ? "0" : is_sexa(se) ? se : Deci_to_sexa_absolute(se);

    se = 
        addition_sexa(
            se,
            addition_sexa(
                gin2se(gin), 
                addition_sexa(
                    sila2se(sila),
                    addition_sexa(
                        ban2se(ban),
                        addition_sexa(
                            bariga2se(bariga),
                            gur2se(gur))))));

    return se;
}




// Conversions en grandes unités.

function susi2longueur(susi) {
    var danna = "0";
    var us = "0";
    var ninda = "0";
    var kus = "0";

    // Calculs en décimal.
    var danna_deci = parseInt(Sexa_vers_deci(danna));
    var us_deci = parseInt(Sexa_vers_deci(us));
    var ninda_deci = parseInt(Sexa_vers_deci(ninda));
    var kus_deci = parseInt(Sexa_vers_deci(kus));
    var susi_deci = parseInt(Sexa_vers_deci(susi));

    var ratio;

    if (susi_deci == 0) {
        return "0 šusi";
    }

    ratio = kus2susi_ratio_deci;
    if (susi_deci >= ratio) {
        var quotient = Math.floor(susi_deci / ratio);
        var reste = susi_deci % ratio;

        susi_deci = reste;
        kus_deci += quotient;
    }

    ratio = ninda2kus_ratio_deci;
    if (kus_deci >= ratio) {
        var quotient = Math.floor(kus_deci / ratio);
        var reste = kus_deci % ratio;

        kus_deci = reste;
        ninda_deci += quotient;
    }

    ratio = us2ninda_ratio_deci;
    if (ninda_deci >= ratio) {
        var quotient = Math.floor(ninda_deci / ratio);
        var reste = ninda_deci % ratio;

        ninda_deci = reste;
        us_deci += quotient;
    }

    ratio = danna2us_ratio_deci;
    if (us_deci >= ratio) {
        var quotient = Math.floor(us_deci / ratio);
        var reste = us_deci % ratio;

        us_deci = reste;
        danna_deci += quotient;
    }


    // Retour en sexagésimal.
    // danna = Deci_to_sexa_absolute(danna_deci);
    // us = Deci_to_sexa_absolute(us_deci);
    // ninda = Deci_to_sexa_absolute(ninda_deci);
    // kus = Deci_to_sexa_absolute(kus_deci);
    // susi = Deci_to_sexa_absolute(susi_deci);

    // Formatage du résultat.
    // result = (danna != 0 ? systemeS(danna) + " danna " : "") 
    //     + (us != 0 ? us + " uš " : "") 
    //     + (ninda != 0 ? ninda + " ninda " : "") 
    //     + (kus != 0 ? kus + " kuš " : "") 
    //     + (susi != 0 ? susi + " šusi " : ""); 

    result = length_with_fractions(danna_deci, us_deci, ninda_deci, 
                                   kus_deci, susi_deci); 
    return result;
}



function length_with_fractions (danna, us, ninda, kus, susi) {

    var result = "";
    var sixths;

    sixths = Math.floor(us / (danna2us_ratio_deci / 6));
    if (danna != 0 || sixths > 0) {
        result += (danna != 0 ? 
                   decomposition_60(Deci_to_sexa_absolute(danna)) + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            us = us % (danna2us_ratio_deci / 6);
            result += " ";
        }
        result += "danna ";
    }

    sixths = Math.floor(ninda / (us2ninda_ratio_deci / 6));
    if (us != 0 || sixths > 0) {
        result += (us != 0 ? us + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            ninda = ninda % (us2ninda_ratio_deci / 6);
            result += " ";
        }
        result += "uš ";
    }

    sixths = Math.floor(kus / (ninda2kus_ratio_deci / 6));
    if (ninda != 0 || sixths > 0) {
        result += (ninda != 0 ? ninda + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            kus = kus % (ninda2kus_ratio_deci / 6);
            result += " ";
        }
        result += "ninda ";
    }

    sixths = Math.floor(susi / (kus2susi_ratio_deci / 6));
    if (kus != 0 || sixths > 0) {
        result += (kus != 0 ? kus + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            susi = susi % (kus2susi_ratio_deci / 6);
            result += " ";
        }
        result += "kuš ";
    }

    result += (susi != 0 ? susi + " šusi " : ""); 

    return result;
}




function surface_with_fractions (gan, sar, gin, se, reste) {

    var result = "";
    var sixths;

    sixths = Math.floor(sar / (gan2sar_ratio_deci / 4));
    if (gan != 0 || sixths > 0) {
        result += (gan != 0 ? systemeG(Deci_to_sexa_absolute(gan)) + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,4);
            sar = sar % (gan2sar_ratio_deci / 4);
            result += " ";
        }
        result += "gan ";
    }

    sixths = Math.floor(gin / (sar2gin_ratio_deci / 6));
    if (sar != 0 || sixths > 0) {
        result += (sar != 0 ? sar + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            gin = gin % (sar2gin_ratio_deci / 6);
            result += " ";
        }
        result += "sar ";
    }

    sixths = Math.floor(se / (gin2se_ratio_deci / 6));
    if (gin != 0 || sixths > 0) {
        result += (gin != 0 ? gin + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            se = se % (gin2se_ratio_deci / 6);
            result += " ";
        }
        result += "gin ";
    }

    if (se != 0 || reste != "") {
        result += (se != 0 ? se + " " : "")
               + (reste != "" ? reste + " " : "")
               + "še"; 
    }

    return result;
}



function capacities_with_fractions (gur, bariga, ban, sila, gin, se) {

    var result = "";
    var sixths;

    result = (gur != 0 ? decomposition_60(Deci_to_sexa_absolute(gur)) + " gur " : "") 
        + (bariga != 0 ? bariga + " bariga " : "") 
        + (ban != 0 ? ban + " ban " : "");

    sixths = Math.floor(gin / (sila2gin_ratio_deci / 6));
    if (sila != 0 || sixths > 0) {
        result += (sila != 0 ? decomposition_60(Deci_to_sexa_absolute(sila)) + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            gin = gin % (sila2gin_ratio_deci / 6);
            result += " ";
        }
        result += "sila ";
    }

    sixths = Math.floor(se / (gin2se_ratio_deci / 6));
    if (gin != 0 || sixths > 0) {
        result += (gin != 0 ? gin + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            se = se % (gin2se_ratio_deci / 6);
            result += " ";
        }
        result += "gin ";
    }

    result += (se != 0 ? se + " še " : ""); 

    return result;
}



function weights_with_fractions (gu, mana, gin, se) {

    var result = "";
    var sixths;

    sixths = Math.floor(mana / (gu2mana_ratio_deci / 6));
    if (gu != 0 || sixths > 0) {
        result += (gu != 0 ? decomposition_60(Deci_to_sexa_absolute(gu)) + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            mana = mana % (gu2mana_ratio_deci / 6);
            result += " ";
        }
        result += "gu ";
    }

    sixths = Math.floor(gin / (mana2gin_ratio_deci / 6));
    if (mana != 0 || sixths > 0) {
        result += (mana != 0 ? mana + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            gin = gin % (mana2gin_ratio_deci / 6);
            result += " ";
        }
        result += "mana ";
    }

    sixths = Math.floor(se / (gin2se_ratio_deci / 6));
    if (gin != 0 || sixths > 0) {
        result += (gin != 0 ? gin + " " : "");

        if (sixths > 0) { 
            result += simplif_fraction(sixths,6);
            se = se % (gin2se_ratio_deci / 6);
            result += " ";
        }
        result += "gin ";
    }

    result += (se != 0 ? se + " še " : ""); 

    return result;
}







function se2surface(se, reste) {
    var gan = "0";
    var sar = "0";
    var gin = "0";

    // Calculs en décimal.
    var gan_deci = parseInt(Sexa_vers_deci(gan));
    var sar_deci = parseInt(Sexa_vers_deci(sar));
    var gin_deci = parseInt(Sexa_vers_deci(gin));
    var se_deci = parseInt(Sexa_vers_deci(se));

    var ratio;

    if (se_deci == 0 && reste == "") {
        return "0 še";
    }

    ratio = gin2se_ratio_deci;
    if (se_deci >= ratio) {
        var quotient = Math.floor(se_deci / ratio);
        var reste_local = se_deci % ratio;

        se_deci = reste_local;
        gin_deci += quotient;
    }

    ratio = sar2gin_ratio_deci;
    if (gin_deci >= ratio) {
        var quotient = Math.floor(gin_deci / ratio);
        var reste_local = gin_deci % ratio;

        gin_deci = reste_local;
        sar_deci += quotient;
    }

    ratio = gan2sar_ratio_deci;
    if (sar_deci >= ratio) {
        var quotient = Math.floor(sar_deci / ratio);
        var reste_local = sar_deci % ratio;

        sar_deci = reste_local;
        gan_deci += quotient;
    }

    // Retour en sexagésimal.
    // gan = Deci_to_sexa_absolute(gan_deci);
    // sar = Deci_to_sexa_absolute(sar_deci);
    // gin = Deci_to_sexa_absolute(gin_deci);
    // se = Deci_to_sexa_absolute(se_deci);

    // Formatage du résultat.
    // result = (gan != 0 ? systemeG(gan) + " gan " : "") 
    //     + (sar != 0 ? systemeS(sar) + " sar " : "") 
    //     + (gin != 0 ? gin + " gin " : "") 
    //     + (se != 0 ? systemeS(se) + " še " : ""); 

    result = surface_with_fractions(gan_deci, sar_deci, gin_deci, se_deci, 
                                    reste);

    return result;
}


function se2volume(se, reste) {
    // Units of volume are computed just like units of surface.
    var result = se2surface(se, reste);

    return result;
}



function se2poids(se) {
    var gu = "0";
    var mana = "0";
    var gin = "0";

    // Calculs en décimal.
    var gu_deci = parseInt(Sexa_vers_deci(gu));
    var mana_deci = parseInt(Sexa_vers_deci(mana));
    var gin_deci = parseInt(Sexa_vers_deci(gin));
    var se_deci = parseInt(Sexa_vers_deci(se));

    var ratio;

    if (se_deci == 0) {
        return "0 še";
    }

    ratio = gin2se_ratio_deci;
    if (se_deci >= ratio) {
        var quotient = Math.floor(se_deci / ratio);
        var reste = se_deci % ratio;

        se_deci = reste;
        gin_deci += quotient;
    }

    ratio = mana2gin_ratio_deci;
    if (gin_deci >= ratio) {
        var quotient = Math.floor(gin_deci / ratio);
        var reste = gin_deci % ratio;

        gin_deci = reste;
        mana_deci += quotient;
    }

    ratio = gu2mana_ratio_deci;
    if (mana_deci >= ratio) {
        var quotient = Math.floor(mana_deci / ratio);
        var reste = mana_deci % ratio;

        mana_deci = reste;
        gu_deci += quotient;
    }

    // Retour au sexagésimal.
    // gu = Deci_to_sexa_absolute(gu_deci);
    // mana = Deci_to_sexa_absolute(mana_deci);
    // gin = Deci_to_sexa_absolute(gin_deci);
    // se = Deci_to_sexa_absolute(se_deci);

    // Formatage du résultat.
    // result = (gu != 0 ? systemeS(gu) + " gu " : "") 
    //     + (mana != 0 ? mana + " mana " : "") 
    //     + (gin != 0 ? gin + " gin " : "") 
    //     + (se != 0 ? systemeS(se) + " še " : ""); 

    result = weights_with_fractions(gu_deci, mana_deci, gin_deci, se_deci);

    return result;
}


function se2capacite(se) {
    var gur = "0";
    var bariga = "0";
    var ban = "0";
    var sila = "0";
    var gin = "0";

    // Calculs en décimal.
    var gur_deci = parseInt(Sexa_vers_deci(gur));
    var bariga_deci = parseInt(Sexa_vers_deci(bariga));
    var ban_deci = parseInt(Sexa_vers_deci(ban));
    var sila_deci = parseInt(Sexa_vers_deci(sila));
    var gin_deci = parseInt(Sexa_vers_deci(gin));
    var se_deci = parseInt(Sexa_vers_deci(se));

    var ratio;

    if (se_deci == 0) {
        return "0 še";
    }

    ratio = gin2se_ratio_deci;
    if (se_deci >= ratio) {
        var quotient = Math.floor(se_deci / ratio);
        var reste = se_deci % ratio;

        se_deci = reste;
        gin_deci += quotient;
    }

    ratio = sila2gin_ratio_deci;
    if (gin_deci >= ratio) {
        var quotient = Math.floor(gin_deci / ratio);
        var reste = gin_deci % ratio;

        gin_deci = reste;
        sila_deci += quotient;
    }

    ratio = ban2sila_ratio_deci;
    if (sila_deci >= ratio) {
        var quotient = Math.floor(sila_deci / ratio);
        var reste = sila_deci % ratio;

        sila_deci = reste;
        ban_deci += quotient;
    }

    ratio = bariga2ban_ratio_deci;
    if (ban_deci >= ratio) {
        var quotient = Math.floor(ban_deci / ratio);
        var reste = ban_deci % ratio;

        ban_deci = reste;
        bariga_deci += quotient;
    }

    ratio = gur2bariga_ratio_deci;
    if (bariga_deci >= ratio) {
        var quotient = Math.floor(bariga_deci / ratio);
        var reste = bariga_deci % ratio;

        bariga_deci = reste;
        gur_deci += quotient;
    }

    // Retour en sexagésimal.
    // gur = Deci_to_sexa_absolute(gur_deci);
    // bariga = Deci_to_sexa_absolute(bariga_deci);
    // ban = Deci_to_sexa_absolute(ban_deci);
    // sila = Deci_to_sexa_absolute(sila_deci);
    // gin = Deci_to_sexa_absolute(gin_deci);
    // se = Deci_to_sexa_absolute(se_deci);

    // Formatage du résultat.
    // result = (gur != 0 ? systemeS(gur) + " gur " : "") 
    //     + (bariga != 0 ? bariga + " bariga " : "") 
    //     + (ban != 0 ? ban + " ban " : "") 
    //     + (sila != 0 ? sila + " sila " : "")
    //     + (gin != 0 ? gin + " gin " : "")
    //     + (se != 0 ? se + " še " : ""); 

    result = capacities_with_fractions(gur_deci, bariga_deci, ban_deci, 
                                       sila_deci, gin_deci, se_deci);

    return result;
}



////////////////////////////////////////////////////////////////
// Longueurs
////////////////////////////////////////////////////////////////

function Longueur(danna, us, ninda, kus, susi) {
    this.danna = danna;
    this.us = us;
    this.ninda = ninda;
    this.kus = kus;
    this.susi = susi;

    this.en_susi = function() {
        var result = addition_sexa(this.susi,
                                   addition_sexa(
                                       kus2susi(this.kus),
                                       addition_sexa(
                                           ninda2susi(this.ninda),
                                           addition_sexa(
                                               us2susi(this.us), 
                                               danna2susi(this.danna)))));

        return result;
    }


    this.addition = function(longueur2) {
        var result = "";

        // Si tout est sexagésimal, on additionne.
        if (is_sexa(danna1) && 
            is_sexa(us1) && is_sexa(ninda1) && is_sexa(kus1) && is_sexa(susi1) && 
            is_sexa(danna2) && is_sexa(us2) && is_sexa(ninda2) && is_sexa(kus2) && 
            is_sexa(susi2)) {

            var susi = new Sexa(addition_sexa(this.en_susi(), 
                                              longueur2.en_susi()));
            result = susi2longueur(susi);

        } else {
            result = not_sexas;
        }

        return result;

    }

}


// function add_longueurs(form_add_longueurs) {
//     // Initialize the output.
//     document.form_add_longueurs.output.value = "";

//     // addenda[] is an array, where addenda[1], addenda[2] etc. will be
//     // the operands (if they are undefined, they will be treated
//     // as 0). The sum will be stored in addenda[0].
//     addenda_longueurs[0] = "0";
// //    var total = "0";
// //    addenda_longueurs[0] = "0";

//     // If all input numbers are sexas, we add them.
//     for (var i = 1; i <= nb_add_longueurs; i++) {
//         var danna = document.form_add_longueurs["danna" + i].value;
//         var us = document.form_add_longueurs["us" + i].value;
//         var ninda = document.form_add_longueurs["ninda" + i].value;
//         var kus = document.form_add_longueurs["kus" + i].value;
//         var susi = document.form_add_longueurs["susi" + i].value;

//         danna = danna ? Deci_to_sexa_absolute(danna) : "0";
//         if (!us) us = "0";
//         if (!ninda) ninda = "0";
//         if (!kus) kus = "0";
//         if (!susi) susi = "0";

//         if (!is_sexa(danna) || !is_sexa(us) || !is_sexa(ninda) || 
//             !is_sexa(kus) || !is_sexa(susi)) {
//             document.form_add_longueurs.output.value = not_sexas;
//             return;
//         } else {
//             addenda_longueurs[i] = new Longueur(danna, us, ninda, kus, susi);
//             if (addenda_longueurs[i].en_susi() == "0")
//                 continue;
//             addenda_longueurs[0] = addition_sexa(addenda_longueurs[0], 
//                                                  addenda_longueurs[i].en_susi());
//         }
//     }
//     document.form_add_longueurs.output.value = susi2longueur(addenda_longueurs[0]);

//     // This is a magic feature: each time you perform an add_longueurs, a new
//     // add_longueurs field is given. Thus you can perform n-ary add_longueurs
//     // very easily.
//     var contenu = "";
//     nb_add_longueurs++; // The number of addenda_longueurs, first defined in main().

//     for (var i = 3; i <= nb_add_longueurs; i++) {
//         contenu = contenu
//             + " + </td> "
//             + "<td> <input type='text' "
//             + " name='danna" + i + "' "
//             + " id='add_length_danna" + i + "' "
//             + ' value="' + ((addenda_longueurs[i].danna) ? addenda_longueurs[i].danna : "") + '" '
//             + " onKeyPress=\"if (event.keyCode == 13) add_longueurs(this.form)\" />"
//             + "</td>"
//             + "<td> <input type='text' "
//             + " name='us" + i + "' "
//             + " id='add_length_us" + i + "' "
//             + ' value="' + ((addenda_longueurs[i].us) ? addenda_longueurs[i].us : "") + '" '
//             + " onKeyPress=\"if (event.keyCode == 13) add_longueurs(this.form)\" />"
//             + "</td>"
//             + "<td> <input type='text' "
//             + " name='ninda" + i + "' "
//             + " id='add_length_ninda" + i + "' "
//             + ' value="' + ((addenda_longueurs[i].ninda) ? addenda_longueurs[i].ninda : "") + '" '
//             + " onKeyPress=\"if (event.keyCode == 13) add_longueurs(this.form)\" />"
//             + "</td>"
//             + "<td> <input type='text' "
//             + " name='kus" + i + "' "
//             + " id='add_length_kus" + i + "' "
//             + ' value="' + ((addenda_longueurs[i].kus) ? addenda_longueurs[i].kus : "") + '" '
//             + " onKeyPress=\"if (event.keyCode == 13) add_longueurs(this.form)\" />"
//             + "</td>"
//             + "<td> <input type='text' "
//             + " name='susi" + i + "' "
//             + " id='add_length_susi" + i + "' "
//             + ' value="' + ((addenda_longueurs[i].susi) ? addenda_longueurs[i].susi : "") + '" '
//             + " onKeyPress=\"if (event.keyCode == 13) add_longueurs(this.form)\" />"
//             + "</td>"
//             + "</tr> <tr> <td>";
//     }

//     contenu = "</td><td>X</td><td>y</td><td></td><td></td></tr><tr><td>lapin";
//     // Display the result.
//     document.getElementById('nouv_add_longueurs').innerHTML = contenu;
//     document.form_add_longueurs.output.value = susi2longueur(addenda_longueurs[0]);

//     // Display the result in a table.
//     var result = "<table>" + "<tr><th>Add lengths</th></tr>";
//     for (var i = 1; i <= nb_add_longueurs; i++) {
//         if (addenda_longueurs[i].en_susi() != "0")
//             result = result 
//             + "<tr><td align=\"right\">"
//             + susi2longueur(addenda_longueurs[i].en_susi())
//             + "</td></tr>";
//     }
//     result += '<tr><td></td></tr><tr><td align="right"><strong>= ' 
//         + susi2longueur(addenda_longueurs[0]) 
//         + '</strong></td></tr>'
//         + "</table>";

//     document.getElementById('tableau_add_longueurs').innerHTML = result;

//     // Give the focus to the new field.
//     document.getElementById("add_length_danna" + nb_add_longueurs).focus();
// }


// function clear_add_longueurs(form_add_longueurs) {
//     // This function initializes the addition formular.

//     // Initialize the addition fields, to avoid side effects.
//     for (var i = 1; i <= nb_add_longueurs; i++) {
//         document.form_add_longueurs["danna" + i].value = "";
//         document.form_add_longueurs["us" + i].value = "";
//         document.form_add_longueurs["ninda" + i].value = "";
//         document.form_add_longueurs["kus" + i].value = "";
//         document.form_add_longueurs["susi" + i].value = "";
//         addenda_longueurs[i] = null;
//     }
//     nb_additions = 2;

//     // Initialize the output.
//     document.form_addition.output.value = "";

//     // Display it (namely nothing!).
//     document.getElementById('nouv_add_longueurs').innerHTML = "";
//     document.getElementById('tableau_add_longueurs').innerHTML = "";
//     document.getElementById('add_length_danna1').focus();
// }





function add_longueurs(form) {
    var result = 
        susi2longueur(
            addition_sexa(
                longueur2susi(form.danna1.value, 
                              form.us1.value, 
                              form.ninda1.value,
                              form.kus1.value, 
                              form.susi1.value),
                longueur2susi(form.danna2.value,
                              form.us2.value,
                              form.ninda2.value,
                              form.kus2.value,
                              form.susi2.value)));

    form.output.value = result;
}





function soustr_longueurs(form) {
    var result = "";

    // On récupère les données.
    var danna1 = form.danna1.value;
    var us1 = form.us1.value;
    var ninda1 = form.ninda1.value;
    var kus1 = form.kus1.value;
    var susi1 = form.susi1.value;

    var danna2 = form.danna2.value;
    var us2 = form.us2.value;
    var ninda2 = form.ninda2.value;
    var kus2 = form.kus2.value;
    var susi2 = form.susi2.value;

    susi1 = longueur2susi(danna1, us1, ninda1, kus1, susi1);
    susi2 = longueur2susi(danna2, us2, ninda2, kus2, susi2);
    if (less_equal_sexa(susi2, susi1)) {
        // if (Sexa_vers_deci(susi1) >= Sexa_vers_deci(susi2)) {
        var susi = subtraction_sexa(susi1, susi2);
        result = susi2longueur(susi);
    } 
    else {
        result = negative;
    }

    form.output.value = result;
}








function mult_longueurs(form) {
    var danna1 = form.danna1.value;
    var us1 = form.us1.value;
    var ninda1 = form.ninda1.value;
    var kus1 = form.kus1.value;
    var susi1 = form.susi1.value;

    var danna2 = form.danna2.value;
    var us2 = form.us2.value;
    var ninda2 = form.ninda2.value;
    var kus2 = form.kus2.value;
    var susi2 = form.susi2.value;

    var result = 
        mult_deux_longueurs(
            longueur2susi(danna1, us1, ninda1, kus1, susi1), 
            longueur2susi(danna2, us2, ninda2, kus2, susi2));

    form.output.value = result;
}


function mult_longueur_form(form) {
    var danna = form.danna.value;
    var us = form.us.value;
    var ninda = form.ninda.value;
    var kus = form.kus.value;
    var susi = form.susi.value;
    var scalaire = form.scalaire.value ? form.scalaire.value : "1";

    var result = 
        susi2longueur(
            multiplication_sexa_absolu(
                longueur2susi(danna, us, ninda, kus, susi), 
                scalaire));

    form.output.value = result;
}



////////////////////////////////////////////////////////////////
// Surfaces
////////////////////////////////////////////////////////////////


function add_surfaces(form) {
    var result = "";

    var gan1 = form.gan1.value;
    var sar1 = form.sar1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gan2 = form.gan2.value;
    var sar2 = form.sar2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    var result = 
        se2surface(addition_sexa(
            surface2se(gan1, sar1, gin1, se1),
            surface2se(gan2, sar2, gin2, se2)), "");

    form.output.value = result;
}


function soustr_surfaces(form) {
    var result = "";

    var gan1 = form.gan1.value;
    var sar1 = form.sar1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gan2 = form.gan2.value;
    var sar2 = form.sar2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    se1 = surface2se(gan1, sar1, gin1, se1);
    se2 = surface2se(gan2, sar2, gin2, se2);
    //    if (Sexa_vers_deci(se1) >= Sexa_vers_deci(se2)) {
    if (less_equal_sexa(se2, se1)) {
        var se = subtraction_sexa(se1, se2);
        result = se2surface(se, "");
    }
    else {
        result = negative;
    }

    form.output.value = result;
}



function mult_surface_form(form) {
    var gan = form.gan.value;
    var sar = form.sar.value;
    var gin = form.gin.value;
    var se = form.se.value;
    var scalaire = form.scalaire.value ? form.scalaire.value : "1"

    var result = 
        se2surface(
            multiplication_sexa_absolu(
                surface2se(gan, sar, gin, se), 
                scalaire), "");

    form.output.value = result;
}



function mult_deux_longueurs(susi1, susi2) {
    var result = "";
    var ratio = 12; // 1 se = 12 susi²

    if (susi1 == "0" || susi2 == "0") {
        result = "0 še";
    } else {
        var susi_carre = multiplication_sexa_absolu(susi1, susi2);
        var se_deci = Math.floor(Sexa_vers_deci(susi_carre) / ratio);
        var reste = Sexa_vers_deci(susi_carre) % ratio;
        var se_sexa = Deci_to_sexa_absolute(se_deci);

        reste = reste == 0 ? "" : simplif_fraction(reste, ratio);
        result = se2surface(se_sexa, reste);
    }

    return result;
}






////////////////////////////////////////////////////////////////
// Volumes
////////////////////////////////////////////////////////////////


function add_volumes(form) {
    var result = "";

    var gan1 = form.gan1.value;
    var sar1 = form.sar1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gan2 = form.gan2.value;
    var sar2 = form.sar2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    var result = 
        se2volume(
            addition_sexa(volume2se(gan1, sar1, gin1, se1), 
                          volume2se(gan2, sar2, gin2, se2)), 
            "");

    form.output.value = result;
}


function soustr_volumes(form) {
    var result = "";

    var gan1 = form.gan1.value;
    var sar1 = form.sar1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gan2 = form.gan2.value;
    var sar2 = form.sar2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    se1 = surface2se(gan1, sar1, gin1, se1);
    se2 = surface2se(gan2, sar2, gin2, se2);
    if (less_equal_sexa(se2, se1)) {
        var se = subtraction_sexa(se1, se2);
        result = se2surface(se, "");
    }
    else {
        result = negative;
    }

    form.output.value = result;
}



function mult_volume_form(form) {
    var gan = form.gan.value;
    var sar = form.sar.value;
    var gin = form.gin.value;
    var se = form.se.value;
    var scalaire = form.scalaire.value ? form.scalaire.value : "1";

    var result = 
        se2volume(
            multiplication_sexa_absolu(
                volume2se(gan, sar, gin, se), 
                scalaire),
            "");

    form.output.value = result;
}


function mult_trois_longueurs_form(form) {
    var danna1 = form.danna1.value;
    var us1 = form.us1.value;
    var ninda1 = form.ninda1.value;
    var kus1 = form.kus1.value;
    var susi1 = form.susi1.value;

    var danna2 = form.danna2.value;
    var us2 = form.us2.value;
    var ninda2 = form.ninda2.value;
    var kus2 = form.kus2.value;
    var susi2 = form.susi2.value;

    var danna3 = form.danna3.value;
    var us3 = form.us3.value;
    var ninda3 = form.ninda3.value;
    var kus3 = form.kus3.value;
    var susi3 = form.susi3.value;

    var result = 
        mult_trois_longueurs(
            longueur2susi(danna1, us1, ninda1, kus1, susi1),
            longueur2susi(danna2, us2, ninda2, kus2, susi2),
            longueur2susi(danna3, us3, ninda3, kus3, susi3));

    form.output.value = result;
}


function mult_surface_longueur(se, susi) {
    var result = "";
    var facteur = "12";
    var ratio = 360; // 1 se = 360 susi³

    if (se == 0 || susi == 0 || facteur == 0) {
        result = "0 še";
    } else {
        var susi_cube = 
            multiplication_sexa_absolu(
                multiplication_sexa_absolu(se, susi), 
                facteur);
        var se_deci = Math.floor(Sexa_vers_deci(susi_cube) / ratio);
        var reste = Sexa_vers_deci(susi_cube) % ratio;
        var se_sexa = Deci_to_sexa_absolute(se_deci);

        reste = reste == 0 ? "" : " " + simplif_fraction(reste, ratio);
        result = se2volume(se_sexa, reste);
    }

    return result;
}


function mult_surface_longueur_form(form) {
    var gan = form.gan.value;
    var sar = form.sar.value;
    var gin = form.gin.value;
    var se = form.se.value;

    var danna = form.danna.value;
    var us = form.us.value;
    var ninda = form.ninda.value;
    var kus = form.kus.value;
    var susi = form.susi.value;

    var result = 
        mult_surface_longueur(surface2se(gan, sar, gin, se), 
                              longueur2susi(danna, us, ninda, kus, susi));

    form.output.value = result;
}


function mult_trois_longueurs(susi1, susi2, susi3) {
    var result = "";
    var ratio = 360; // 1 se = 360 susi³

    if (susi1 == 0 || susi2 == 0 || susi3 == 0) {
        result = "0 še";
    } else {
        var susi_cube = multiplication_sexa_absolu(
            multiplication_sexa_absolu(susi1, susi2), susi3);
        var se_deci = Math.floor(Sexa_vers_deci(susi_cube) / ratio);
        var reste = Sexa_vers_deci(susi_cube) % ratio;
        var se_sexa = Deci_to_sexa_absolute(se_deci);

        reste = reste == 0 ? "" : simplif_fraction(reste, ratio);
        result = se2volume(se_sexa, reste);
    }

    return result;
}







////////////////////////////////////////////////////////////////
// Capacités
////////////////////////////////////////////////////////////////



function add_capacites(form) {
    var gur1 = form.gur1.value;
    var bariga1 = form.bariga1.value;
    var ban1 = form.ban1.value;
    var sila1 = form.sila1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gur2 = form.gur2.value;
    var bariga2 = form.bariga2.value;
    var ban2 = form.ban2.value;
    var sila2 = form.sila2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    var result = 
        se2capacite(
            addition_sexa(capacite2se(gur1, bariga1, ban1, sila1, gin1, se1),
                          capacite2se(gur2, bariga2, ban2, sila2, gin2, se2)));

    form.output.value = result;
}



function soustr_capacites(form) {
    var result = "";

    var gur1 = form.gur1.value;
    var bariga1 = form.bariga1.value;
    var ban1 = form.ban1.value;
    var sila1 = form.sila1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gur2 = form.gur2.value;
    var bariga2 = form.bariga2.value;
    var ban2 = form.ban2.value;
    var sila2 = form.sila2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    se1 = capacite2se(gur1, bariga1, ban1, sila1, gin1, se1);
    se2 = capacite2se(gur2, bariga2, ban2, sila2, gin2, se2);
    if (less_equal_sexa(se2, se1)) {
        var se = subtraction_sexa(se1, se2);
        result = se2capacite(se);
    }
    else {
        result = negative;
    }

    form.output.value = result;
}





function mult_capacite_form(form) {
    var gur = form.gur.value;
    var bariga = form.bariga.value;
    var ban = form.ban.value;
    var sila = form.sila.value;
    var gin = form.gin.value;
    var se = form.se.value;
    var scalaire = form.scalaire.value ? form.scalaire.value : "1";

    var result = 
        se2capacite(
            multiplication_sexa_absolu(
                capacite2se(gur, bariga, ban, sila, gin, se), 
                scalaire));

    form.output.value = result;
}




////////////////////////////////////////////////////////////////
// Poids
////////////////////////////////////////////////////////////////


function add_poids(form) {
    var result = "";

    var gu1 = form.gu1.value;
    var mana1 = form.mana1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gu2 = form.gu2.value;
    var mana2 = form.mana2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    var result = 
        se2poids(
            addition_sexa(poids2se(gu1, mana1, gin1, se1), 
                          poids2se(gu2, mana2, gin2, se2)));

    form.output.value = result;
}




function soustr_poids(form) {
    var result = "";

    var gu1 = form.gu1.value;
    var mana1 = form.mana1.value;
    var gin1 = form.gin1.value;
    var se1 = form.se1.value;

    var gu2 = form.gu2.value;
    var mana2 = form.mana2.value;
    var gin2 = form.gin2.value;
    var se2 = form.se2.value;

    se1 = poids2se(gu1, mana1, gin1, se1);
    se2 = poids2se(gu2, mana2, gin2, se2);
    if (less_equal_sexa(se2, se1)) {
        var se = subtraction_sexa(se1, se2);
        result = se2poids(se);
    }
    else {
        result = negative;
    }

    form.output.value = result;
}




function mult_poids_form(form) {
    var gu = form.gu.value;
    var mana = form.mana.value;
    var gin = form.gin.value;
    var se = form.se.value;
    var scalaire = form.scalaire.value ? form.scalaire.value : "1";

    var result = 
        se2poids(
            multiplication_sexa_absolu(
                poids2se(gu, mana, gin, se), 
                scalaire));

    form.output.value = result;
}




////////////////////////////////////////////////////////////////
// Système S et système G
////////////////////////////////////////////////////////////////

var sargal2saru_ratio = "6";
var saru2sar_ratio = "10";

var sar2gesu_ratio = "6";
var gesu2ges_ratio = "10";
var ges2u_ratio = "6";
var u2dis_ratio = "10";

var sar2buru_ratio = "6";
var buru2bur_ratio = "10";
var bur2ese_ratio = "6";
var ese2iku_ratio = "10";


function systemS2systemG(form) {
    var result = "";

    var sargal = form.sargal.value;
    var saru = form.saru.value;
    var sar = form.sar.value;
    var gesu = form.gesu.value;
    var ges = form.ges.value;
    var u = form.u.value;
    var dis = form.dis.value;

    dis = 
        addition_sexa(
            dis, 
            multiplication_sexa_absolu(
                u2dis_ratio_deci, 
                addition_sexa(
                    u, 
                    multiplication_sexa_absolu(
                        ges2u_ratio_deci, 
                        addition_sexa(
                            ges, 
                            multiplication_sexa_absolu(
                                gesu2ges_ratio_deci, 
                                addition_sexa(
                                    gesu, 
                                    multiplication_sexa_absolu(
                                        sar2gesu_ratio_deci, 
                                        addition_sexa(
                                            sar, 
                                            multiplication_sexa_absolu(
                                                saru2sar_ratio_deci, 
                                                addition_sexa(
                                                    saru, 
                                                    multiplication_sexa_absolu(
                                                        sargal2saru_ratio_deci,
                                                        sargal))))))))))));

    result = systemeG(dis);

    form.output.value = result;
}




function systemG2systemS_form(form) {

    var sargal = form.sargal.value == "" ? "0" : form.sargal.value;
    var saru = form.saru.value == "" ? "0" : form.saru.value;
    var sar = form.sar.value == "" ? "0" : form.sar.value;
    var buru = form.buru.value == "" ? "0" : form.buru.value;
    var bur = form.bur.value == "" ? "0" : form.bur.value;
    var ese = form.ese.value == "" ? "0" : form.ese.value;
    var iku = form.iku.value == "" ? "0" : form.iku.value;

    var result = systemG2systemS(sargal, saru, sar, buru, bur, ese, iku);

    form.output.value = result;
}



function systemG2systemS(sargal, saru, sar, buru, bur, ese, iku) {

    iku = 
        addition_sexa(
            iku,
            multiplication_sexa_absolu(
                ese2iku_ratio,
                addition_sexa(
                    ese,
                    multiplication_sexa_absolu(
                        bur2ese_ratio,
                        addition_sexa(
                            bur,
                            multiplication_sexa_absolu(
                                buru2bur_ratio,
                                addition_sexa(
                                    buru,
                                    multiplication_sexa_absolu(
                                        sar2buru_ratio,
                                        addition_sexa(
                                            sar,
                                            multiplication_sexa_absolu(
                                                saru2sar_ratio,
                                                addition_sexa(
                                                    saru,
                                                    multiplication_sexa_absolu(
                                                        sargal2saru_ratio,
                                                        sargal))))))))))));

    var result = systemeS(iku);

    return result;
}




//////////////////////////////////////////////////////////////// 
// Briques
////////////////////////////////////////////////////////////////


function nalbanum(form) {
    var volume = form.input.value;
    var result = "";

    if (!volume) {
        result = "";
    } else {
        if (!is_sexa(volume)) {
            result = not_sexa;
        } else {
            if (is_regular(volume)) { 
                result =  '<table>' + '<tr> '
                    + '<th>Standard volume</th>' 
                    + ' <th><em>nalbanum</em> (brickage)</th>'
                    + '<th><em>nazbalum</em> (carriage)</th></tr>'
                    + '<tr><td>' + volume + '</td>'
                    + '<td>' + floating(quotient_sexa("5", volume))
                    + '</td>'
                    + '<td>' 
                    + floating(multiplication_sexa("37.30", 
                                                   quotient_sexa("5", volume))) 
                    + '</td></tr>'
                    + "</table> (floating results)";
            }
            else {
                result = "Not regular number of volume.";
            }
        }
    }

    document.getElementById('nalbanum_tableau').innerHTML = result;
}






////////////////////////////////////////////////////////////////
// Autres
////////////////////////////////////////////////////////////////


function is_int(value){ 
    if (!isNaN(value) && (parseFloat(value) == parseInt(value)))
        return true;  
    else  
        return false;   
}

function is_sexa(chaine) {
    var tableau = chaine.split(".");

    for (i = 0; i < tableau.length ; i++) {
        if (!is_int(tableau[i]) || parseInt(tableau[i]) >= 60) 
            return false;
    }
    return true;
}



function decomposition_60(sexa) {
    var number = Sexa_vers_deci(sexa);
    var result = new String("");
    var divisor = 1;
    var ratio = 60;
    var quotient;
    var reste;

    do { 
        // Before entering this loop, the number is supposed to be
        // well-formated.
        quotient = Math.floor(number / ratio);
        reste = number % ratio;
        number = quotient;

        result = (reste > 0 ? reste + (divisor > 1 ? "×" + divisor : "")
                  + (result != "" ? " + " : "")
                  : "")
            + result;

        divisor *= ratio;
    } while (number >= ratio);

    if (number != 0)
        result = number + "×" + divisor 
        + (result != "" ? " + " + result : "");

    return result;
}




function systemeS(sexa) {
    var number = Sexa_vers_deci(sexa);
    var result = new String("");
    var divisor = 1;
    var ratio = 60;

    do { 
        var quotient = Math.floor(number / ratio);
        var reste = number % ratio;
        number = quotient;
        result = (reste == 0 ? "" : " " + reste
                  + (divisor == 1 ? "" : " " + systemS_name(divisor))
                  // + (result == "" ? "" : "")
                 ) + result;
        divisor *= ratio;
    } while (number >= ratio);

    if (number != 0)
        result = number + " " + systemS_name(divisor)
        + (result == "" ? "" : result + " iku");

    return result;
}


function systemS_name(divisor) {
    var result;

    switch (divisor) {
    case 216000: result = "šar-gal"; break;
    case 36000: result = "šar'u"; break;
    case 3600: result = "šar"; break;
    case 600: result = "bur'u"; break;
    case 60: result = "bur"; break;
    case 10: result = "eše"; break;
    case 1: result = "iku"; break;

    default: result = "× " + divisor;
    }

    return result;
}


function systemG_name(divisor) {
    var result;

    switch (divisor) {
    case 34800: result = " šar-gal"; break;
    case 10800: result = " šar'u"; break;
    case 1080: result = " šar"; break;
    case 180: result = " bur'u"; break;
    case 18: result = " bur"; break;
    case 6: result = " eše"; break;
    case 1: result = " iku"; break;

    default: result = "×" + divisor;
    }

    return result;
}


function systemeG(sexa) {
    var number = Sexa_vers_deci(sexa);
    var result = new String("");
    var divisor = 1;
    var rapport;
    var quotient, reste;

    // mod 6
    rapport = 6;
    quotient = Math.floor(number / rapport);
    reste = number % rapport;
    number = quotient;
    result = (reste == 0 ? "" : reste)
        + result;
    divisor *= rapport;

    // mod 18
    if (number >= 3) {
        rapport = 3; 
        quotient = Math.floor(number / rapport);
        reste = number % rapport;
        number = quotient;
        result = (reste == 0 ? "" : reste
                  + (divisor == 1 ? "" : systemG_name(divisor))
                  + (result == "" ? "" : 
                     divisor <= 34800 ? " " : " + "))
            + result;
        divisor *= rapport;
    }

    // 10 et 6, etc.
    while (number >= 10) { 
        rapport = 10;
        quotient = Math.floor(number / rapport);
        reste = number % rapport;
        number = quotient;
        result = (reste == 0 ? "" : reste
                  + (divisor == 1 ? "" : systemG_name(divisor))
                  + (result == "" ? "" : 
                     divisor <= 34800 ? " " : " + "))
            + result;
        divisor *= rapport;

        rapport = 6;
        quotient = Math.floor(number / rapport);
        reste = number % rapport;
        number = quotient;
        result = (reste == 0 ? "" : reste
                  + (divisor == 1 ? "" : systemG_name(divisor))
                  + (result == "" ? "" : 
                     divisor <= 34800 ? " " : " + "))
            + result;
        divisor *= rapport;
    };

    if (number != 0)
        result = number + systemG_name(divisor)
        + (result == "" ? "" : 
           (divisor <= 34800 ? " " : " + ") + result);

    return result;
}


function display_result(result, element) {
	result = '<span class="result_line">' + result + '</span>';

    //    return result;
    document.getElementById(element).innerHTML = result;
}



//]]>
// --> 
</script>

    <!-- 
----------------------------------------------------------------
----------------------------------------------------------------
--                 HTML code of MesoCalc
----------------------------------------------------------------
----------------------------------------------------------------
-->

    <div id="tout">
    <div id="titre">
    <h1><a href="http://baptiste.meles.free.fr/site/mesocalc.html">MesoCalc</a></h1>
    <hr/>
    <p>A Mesopotamian Calculator</p>
    </div>

    <div id="nav">


    <div class="titre"><a href="#note"
onclick="display_intro();">Introduction</a></div> 

    <form action="" name="form_floating">
    <!-- <div class="titre""">Computing system</div> -->
    <p>Computing
system<sup>(<a href="#codes" onClick="display_intro();">?</a>)</sup>:
    <br/> <input type="radio" name="floating" value="oui"
checked="checked" id="flottant_oui" onclick="sexa_floating =
true;"/>
    <label for="flottant_oui">floating 
(<span class="system">60F</span>) </label> <br/>

    <input type="radio" name="floating" value="non" id="flottant_non"
onclick="sexa_floating =
false;"/> 
    <label for="flottant_non">absolute 
(<span class="system">60A</span>) </label>
    </p>
    </form>

    <div class="titre"><a href="#operations">Arithmetics</a></div>


    <ul>
    <li><a href="#conversions">Conversion &amp; properties</a></li>
    <li> <a href="#multiplication">Multiplicative operations</a> </li>
    <li> <a href="#powers">Exponential operations</a> </li>
    <li> <a href="#addition">Additive operations</a> </li>
    </ul>




    <div class="titre"><a href="#units">Measures</a></div>
    <ul>
    <li><a href="#lengths">Lengths</a></li>
    <li><a href="#surfaces">Surfaces</a></li>
    <li> <a href="#volumes">Volumes</a></li>
    <li> <a href="#capacities">Capacities</a> </li>
    <li> <a href="#weights">Weights</a></li> 
    <!-- <li> <a href="#systemSsystemG">Systems G/S</a></li> -->
    </ul>
    </div>

    <div id="corps">


    <div class="encart">
    <p>
    MesoCalc is a <strong>Mesopotamian calculator</strong>. It
computes with integers in <strong>sexagesimal place-value
notation</strong> and operates on measures.
    </p>
    </div>

    <p>MesoCalc was created in March 2013 by <a
href="http://baptiste.meles.free.fr/">Baptiste MÉLÈS</a> (CNRS,
                                                          Archives Henri Poincaré, Université de Lorraine) with the
scientific assistance of <strong>Christine PROUST</strong> (CNRS, Université 
                                                            Paris-Diderot) in the framework of the <a
href="http://sawerc.hypotheses.org/">SAW Project</a> (Mathematical
                                                      Sciences in the Ancient World), headed by <strong>Karine
CHEMLA</strong> (CNRS, Université Paris-Diderot). </p>




    <!-- <div class="cadre"> -->

    <div class="encart">
    <h3>Contents</h3>

    <ul>
    <li> <a href="#note">Introduction</a>
    <!--          <ul> -->
    <!--            <li><a href="#codes">Computing systems: -->
    <!-- <span class="system">10A</span>, -->
    <!--                <span class="system">60A/F</span>, <span class="system">60A</span>, -->
    <!--                <span class="system">60F</span>, -->
    <!-- <span class="system">60R</span></a></li> -->
    <!--            <li> <a href="#spvn">Decimal and sexagesimal place-value -->
    <!--                notation</a> <span class="system">10A</span> -->
    <!--              and <span class="system">60A/F</span></li> -->
    <!--            <li> <a href="#floating">What are the absolute and floating -->
    <!--                notations?</a> <span class="system">60A</span> -->
    <!--              and <span class="system">60F</span></li> -->
    <!--            <li> <a href="#regular">What are reciprocals and regular -->
    <!--                numbers?</a> <span class="system">60R</span></li> -->
    <!--            <li> <a href="#biblio">Bibliography</a> </li> -->
    <!--          </ul> -->
    </li>
    <li> <a href="#operations">Arithmetics</a>
    <ul>
    <li><a href="#conversions">Conversion and arithmetical
properties</a>: 
    conversions between decimal and sexagesimal numbers, regularity test,
prime factors, greatest common divisor;</li>
    <li> <a href="#multiplication">Multiplicative operations</a>:
multiplication, quotient, reciprocals, tables... </li>
    <li> <a href="#powers">Exponential operations</a>: square, square root,
cube, cube root, geometric progression, tables... </li>
    <li> <a href="#addition">Additive operations</a>: addition,
subtraction; </li>
    </ul> </li>
    <li> <a href="#units">Measures</a>
    <ul>
    <li>  <a href="#lengths">Lengths</a>, 
    <a href="#surfaces">surfaces</a>, 
    <a href="#volumes">volumes</a>,
    <a href="#capacities">capacities</a> and
    <a href="#weights">weights</a>: addition,
subtraction,  multiplication.</li>
    <!-- <li> <a href="#systemSsystemG">System G and system S</a>: conversions. -->
    <!-- compute brickage and -->
    <!-- carriage (<em>nalbalum</em> and <em>nazbalum</em>). --> </li>
    </ul>
    </li>
    <li> <a href="#faq">About MesoCalc</a>
    <ul>
    <li> <a href="#download">Can I download
MesoCalc?</a></li>
    <li> <a href="#source">Can I read the source
code?</a> </li>
    <li><a href="#contact"/>Are there new features in MesoCalc?</a></li>
    <li> <a href="#license">License</a> </li>
    <li> <a href="#contact">Contact</a> </li>
    </ul> </li>
    </ul>
    <!-- </div> -->
    </div>


    <hr/>

    <h2><a name="note"/>Introduction</h2>



    <h3><a name="codes"/>Computing systems</h3>


    <div class="encart">
    <p>
    The numbers if the calculator below may belong to different kinds: 

    <table align="center">
    <tr>
    <th>Code</th>
    <th>Numerical system</th> 
    <th>Examples</th> 
    </tr>

    <tr>
    <td><span class="system">10A</span></td>
    <td>Decimal place-value notation</td>
    <td>7200</td>
    </tr>

    <tr>
    <td><span class="system">60A/F</span></td>
    <td>Sexagesimal place-value notation</td>
    <td>2.0.0 or 2</td>
    </tr>

    <tr>
    <td><span class="system">60A</span></td>
    <td>Absolute sexagesimal place-value notation</td>
    <td>2.0.0</td>
    </tr>

    <tr>
    <td><span class="system">60F</span></td>
    <td>Floating sexagesimal place-value notation</td>
    <td>2</td>
    </tr>

    <tr>
    <td><span class="system">60R</span></td>
    <td>Regular number in <span class="system">60F</span></td>
    <td>2</td>
    </tr>


</table>
    </p>
    </div>


    <div id="replie" style="display: block;">
    <div class="encart">
    <div align="center">



    <a href="javascript:void(0);"><span onClick="display_intro();">More info about this...</span></a>
    </div>
    </div>
    </div>

    <div id="deplie" style="display: none;">
    <div class="encart">
    <div align="center"><a href="javascript:void(0);"
align="center"> 
    <span onClick="hide_intro();">Less info about this...</span></a>  
    </div>
    </div>




    <h3><a name="spvn"/>Decimal and sexagesimal place-value notation
(<span class="system">10A</span>
 and <span class="system">60A/F</span>)</h3>

    <div class="encart">
    <p> Our numerical system (<span class="system">10A</span>) is
a <strong>decimal</strong> place-value notation. It means that we
use ten digits (0, 1, 2, 3, 4, 5, 6, 7, 8, 9), and that every number
containing several digits (like 1729) is composed of multiples of
powers of <strong>10</strong>. As an example, when we write the
number 1729, we mean the number
(<strong>1</strong> &times; 1000) + (<strong>7</strong> &times; 100) + (<strong>2</strong> &times; 10) + <strong>9</strong>. </p>

    <p>
    By contrast, Mesopotamian mathematics use
a <strong>sexagesimal</strong> place-value notation
(<span class="system">60A/F</span>). It means that they
used 59 &quot;digits&quot; (they had no 0), and that the numbers are
decomposed into multiples of powers of <strong>60</strong>, which we
can separate with a dot. As an example, the number 1729 would be
noted 28.49, which means
(<strong>28</strong> &times; 60) + <strong>49</strong>. The number
10000 would be noted 2.46.40, which means
(<strong>2</strong> &times; 3600) + (<strong>46</strong> &times; 60) + <strong>40</strong>.
    </p>

    <p>
    Unlike 10, which has only two divisors (2 and 5), 60 has a lot of
divisors: 2, 3, 4, 5, 6, 10, 12, 15, 20, 30.
    </p>
    </div>



    <h3><a name="floating"/>What are the absolute and floating notations?
    (<span class="system">60A</span>
     and <span class="system">60F</span>)</h3>

    <div class="encart">
    <p>
    Whereas our numerical system (<span class="system">10A</span>) is always
absolute, the sexagesimal notation used in mathematical cuneiform texts
can be either &quot;<strong>absolute</strong>&quot; or
    &quot;<strong>floating</strong>&quot; (<span class="system">60A/F</span>).  </p>

    <p>
    Intuitively, the sexagesimal notation is said to be
    <strong>floating</strong> (<span class="system">60F</span>) when we
neglect all the &quot;<strong>.0</strong>&quot;s that we can find at
the end of a number, and <strong>absolute</strong>
    (<span class="system">60A</span>) when we can not neglect them. For
        instance, in <span class="system">60A</span>, the decimal number 60 is
noted &quot;1.0&quot;, since it is
(<strong>1</strong> &times; 60) + <strong>0</strong>. But
    in <span class="system">60F</span>, it would just be
noted &quot;1&quot;, since we have to neglect all final &quot;.0&quot;s!
We can say that
60<sup><span class="system">10A</span></sup> = 1.0<sup><span class="system">60A</span></sup> = 1<sup><span class="system">60F</span></sup>.
    </p>

    <p>
    As a consequence, the floating sexagesimal number which is
noted &quot;1&quot; in <span class="system">60F</span> can correspond to
the decimal numbers 1, 60 (= <strong>1</strong> &times; 60), 3600
(= <strong>1</strong> &times; 60 &times; 60), etc.; but it can also
correspond to the fractions 1/60 (= <strong>1</strong> &times; 1/60),
1/3600 (= <strong>1</strong> &times; 1/(60 &times; 60)), etc.
    Similarly, the number which is noted &quot;2&quot;
    in <span class="system">60F</span> can correspond to the decimal
numbers 2, 120, 7200, etc., but also to the fractions 1/30, 1/1800, etc.
    </p>

    <p> Here are some more examples of sexagesimal place-value
notation:</p>

    <table align="center">
    <tr><th><span class="system">10A</span></th> 
    <th><span class="system">60A</span></th> 
    <th><span class="system">60F</span></th> </tr>

    <tr> <td>1</td> <td align="right">1</td> <td align="right">1</td> </tr>
    <tr> <td>2</td> <td align="right">2</td> <td align="right">2</td> </tr>
    <tr> <td>59</td> <td align="right">59</td> <td align="right">59</td> </tr>
    <tr> <td><strong>60</strong></td> <td align="right"><strong>1.0</strong></td> <td align="right"><strong>1</strong></td> </tr>
    <tr> <td>61</td> <td align="right">1.1</td> <td align="right">1.1</td> </tr>
    <tr> <td><strong>120</strong></td> <td align="right"><strong>2.0</strong></td> <td align="right"><strong>2</strong></td> </tr>
    <tr> <td><strong>3600</strong></td> <td align="right"><strong>1.0.0</strong></td> <td align="right"><strong>1</strong></td> </tr>
    <tr> <td><strong>7200</strong></td> <td align="right"><strong>2.0.0</strong></td> <td align="right"><strong>2</strong></td> </tr>
    <tr> <td>10000</td> <td align="right">2.46.40</td> <td align="right">2.46.40</td> </tr>
    </table>


    <p>
    The floating system may seem strange, but it has wonderful mathematical
properties. For instance, the square root of 15
    in <span class="system">60A</span> is not an integer (it is someting
                                                          like 3.87..., just like in <span class="system">10A</span>); but the
square root of 15 in <span class="system">60F</span> is 30, for 15 can
also represent the number 15.0 = 900, which is the square
of 30.</p>

    <p> Similarly, the cube root of 7.30 in <span class="system">60A</span>
    is not an integer (just like the square root of 450
                       in <span class="system">10A</span>), but the cube root of 7.30 in
    <span class="system">60F</span> is 30, for
        7.30<sup><span class="system">60F</span></sup> can represent the
number 7.30.0<sup><span class="system">60A</span></sup> = 27000<sup><span class="system">10A</span></sup>,
which is the cube of 30.
    </p>
    </div>



    <h3><a name="regular"/>What are reciprocals and regular numbers?
    (<span class="system">60R</span>)</h3>

    <div class="encart">
    <p>
    The Mesopotamian &quot;division&quot; is performed as
the <strong>multiplication of the dividend</strong> by what is called the
    <strong>&quot;reciprocal&quot; number of the divisor</strong>.</p>

    <p> The <strong>reciprocal R</strong> of a <strong>number N</strong> is
the number such that, <strong>in floating notation,
R &times; N =  1</strong> (be it 1, 1.0, 1.0.0 or any other power
                           of 60 in absolute notation). For instance, the reciprocal of 1 is 1,
since 1 &times; 1 = 1. The reciprocal of 2 is 30, since
2 &times; 30 = 1.0 (which is noted 1 in floating notation). The
reciprocal of 8 is 7.30, since 7.30 &times; 8 = 1.0.0 (which is also
                                                       noted 1 in floating notation).
    </p>

    <p> Some numbers do not have any reciprocal. As a matter of fact,
a number has a reciprocal if and only if <strong>all of its prime
factors are prime factors of 60 as well</strong>, which means that it
must be reducible to a product of powers of 2, 3 and 5. Such a number
is called a <strong>regular
number</strong> (<span class="system">60R</span>). The numbers 2, 3,
4, 5, 6, 8, 9, 10, 12, 15, 16 etc. are regular numbers, whereas the
numbers 7, 11, 13, 14, 17, 19, 21, 22, 23 etc. are not.
    </p>

</div>

    <hr/>



    <h3><a name="biblio"/>Bibliography</h3> 

    <div class="encart">
    <p>If you want to know more about the sexagesimal place-value
notation and mathematical cuneiform texts:</p>

    <ul> 
    <li> FRIBERG, Jöran (2007), <em>A Remarkable Collection of 
Babylonian Mathematical Texts</em>, New York: Springer. </li> 
    <li> HØYRUP, Jens (2002), <em>Lengths, Widths, Surfaces. A Portrait of 
Old Babylonian Algebra and Its Kin</em>, Berlin &amp; Londres: 
Springer. </li> 
    <li>MELVILLE
Duncan, <a href="http://it.stlawu.edu/~dmelvill/mesomath/biblio/bigbib.html">Bibliography
of Mesopotamian Mathematics</a>.</li>
    <li> NEUGEBAUER, Otto (1957), <em>The Exact Sciences in Antiquity</em> 
    (2th ed.), Providence: Brown University Press. </li> 
    <li> NEUGEBAUER, Otto and SACHS, Abraham J. (1945), <em>Mathematical 
Cuneiform Texts</em>, New Haven: American Oriental Series &amp; 
American Schools of Oriental Research. </li> 
    <li> PROUST, Christine (2007), <em>Tablettes mathématiques de 
Nippur</em>, Istanbul: Institut Français d'Etudes Anatoliennes, De 
Boccard. </li> 
<li> PROUST, 
Christine, <a href="http://www.math.ens.fr/culturemath/histoire%20des%20maths/htm/calcul%20sexagesimal/calcul%20sexagesimal.htm">Le calcul sexagésimal en Mésopotamie</a>. </li> 
<li> ROBSON, Eleanor (2008), <em>Mathematics in Ancient Iraq: A Social 
History</em>, Princeton: Princeton University Press. </li> 
<li> THUREAU-DANGIN, François (1932), <em>Esquisse d'une histoire du 
système sexagésimal</em>, Paris: Geuthner. </li> 
    <li> <a href="http://cdli.ucla.edu/">Cuneiform Digital Library 
Initiative (CDLI)</a>. </li> 
    <li><a href="http://oracc.museum.upenn.edu/doc/builder/math">Mathematical
Notations</a>: conventions for the translitteration of Mesopotamian
mathematical and astronomical texts.</li>
    </ul> 
    </div>

</div>



    <hr/>


    <h2><a name="operations"/>Arithmetics</h2>



    <h3><a name="conversions"/><a name="properties"/>Conversion and
arithmetical properties</h3> 


    <h4>Conversions</h4>

    <div class="encart">
    <form action="" name="form_deci2sexa" onsubmit="return false;">
    <p>  Conversion from decimal to sexagesimal
(<span class="system">10A</span> &rarr; <span class="system">60A/F</span>):<br/> 

    <input type="text" size="20"
name="input" value="" onKeyPress="if (event.keyCode == 13)
deci2sexa(this.form)"
    /><!-- <sup><span class="system">10A</span></sup> -->
    <input type="button" name="bouton" value="Sexagesimal &rarr;"
onclick="deci2sexa(this.form)" />

    <!-- <input type="text" size="25" name="output" value="" /> -->


    <span id="conversion-10-60"/>
    <!-- <sup><span class="system">60A/F</span></sup> -->
    </p>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_sexa2deci" onsubmit="return false;">
    <p> Conversion from sexagesimal to
decimal 
(<span class="system">60A</span> &rarr; <span class="system">10A</span>):
    <br/> <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) sexa2deci(this.form)" />
    <!-- <sup><span class="system">60A</span></sup> -->
    <input type="button" name="bouton" value="Decimal &rarr;"
onclick="sexa2deci(this.form)" />

    <span id="conversion-60-10"/>
    <!-- <input type="text" size="25" name="output" value="" /> -->
    <!-- <sup><span class="system">10A</span></sup> -->  </p>
    </form>
    </div>


    <h4>Arithmetical properties</h4>

    <div class="encart">
    <form action="" name="form_regular" onsubmit="return false;">
    <p>  Regular number? (<span class="system">60A/F</span> &rarr; yes/no) <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) regular(this.form)"
    />

    <input type="button" name="bouton" value="Regular?"
onclick="regular(this.form)" />  
    <!-- <input type="text" size="25" name="output" value="" /> -->
    <span id="regular_number"/>
    </p>
    </form>

</div>

    <div class="encart">

    <form action="" name="form_facteurs" onsubmit="return false;">
    <p>    Prime factors
(<span class="system">60A</span> &rarr; <span class="system">60A/F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) facteurs(this.form)" />
    <input type="button" name="bouton" value="Prime factors"
onclick="facteurs(this.form)" />  
    <span id="prime_factors"/>
    <!-- <input type="text" size="25" name="output" value="" /> -->
    </p>
    </form>
    </div>

    <div class="encart">
    <form action="" name="form_gcd" onsubmit="return false;">
    <p>  Greatest common divisor (<span class="system">60A/F</span> and <span class="system">60A/F</span> &rarr; <span class="system">60A/F</span>) <br/>
    <input type="text" size="20" name="input1" value=""
onKeyPress="if (event.keyCode == 13) gcd_form(this.form)"
    /> and
    <input type="text" size="20" name="input2" value=""
onKeyPress="if (event.keyCode == 13) gcd_form(this.form)"
    />

    <input type="button" name="bouton" value="GCD"
onclick="gcd_form(this.form)" />  
    <span id="gcd"/>
    </p>
    </form>

</div>



    <h3><a name="multiplication"/>Multiplicative operations</h3>

    <h4>Multiplication and quotient</h4>

    <div class="encart">
    <form action="" name="form_multiplication" onsubmit="return false;">
    <p> Multiplication (<span class="system">60A/F</span>):
    <div class="retrait">
    <input type="text" size="10" name="input1" id="multiplicanda1" value=""
onKeyPress="if (event.keyCode == 13) multiplication(this.form)" />  &times;
    <input type="text" size="10" name="input2" id="multiplicanda2" value=""
onKeyPress="if (event.keyCode == 13) multiplication(this.form)" /> 
    <span id="nouv_multiplication"></span> 
    <br/> 
    <input type="button" name="bouton" value="Product"
onclick="multiplication(this.form)" />      
    <!-- <input type="text" size="25" name="output" value="" />   -->
    <input type="button" onclick="clear_multiplication(this.form)" value="Clear"/>
    </div>
    <div class="retrait" id="tableau_multiplication"></div>
    </p>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_mult_table" onsubmit="return false;">
    <p> Multiplication table (<span class="system">60A/F</span>): <br/>
    <input type="text" size="10"
name="input" value="" onKeyPress="if (event.keyCode == 13)
mult_table(this.form)" />
    <input type="button" name="bouton" value="Table"
onclick="mult_table(this.form)" /> </p>
    <div id="mult_tableau"></div>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_quotient" onsubmit="return false;">
    <p>  Quotient
(<span class="system">60F</span>&divide;<span class="system">60R</span> &rarr; <span class="system">60F</span>):
    <br/>
    <input type="text" size="10" name="input1" id="quotient_input1" value=""
onKeyPress="if (event.keyCode == 13) quotient(this.form)" />
    &divide; <input type="text" size="10" name="input2" value=""
onKeyPress="if (event.keyCode == 13)
quotient(this.form)" />
    <br/>
    <input type="button" name="bouton" value="Quotient"
onclick="quotient(this.form)" />  
    <input type="button" onclick="clear_quotient(this.form);" value="Clear"/> 

    <span id="quotient"/>
    <!-- <input type="text" size="25" name="output" value="" /> -->
    </p>
    </form>

</div>



    <h4>Reciprocal and regular numbers</h4>

    <div class="encart">

    <form action="" name="form_inverse" onsubmit="return false;">
    <p> Reciprocal number (<span class="system">60F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) inverse(this.form)"
    /> <input type="button"
name="bouton" value="Reciprocal" onclick="inverse(this.form)" />

    <span id="igi"/>
    </p>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_inverse_table">
    <p>
    <input type="button" name="bouton" value="Reciprocal table"
onclick="inverse_table(this.form)" />  
    (<span class="system">60F</span>)
    <div id="inverse_tableau"></div> </p>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_regular_liste" onsubmit="return false;">
    <p> Table of regular numbers  (<span class="system">60A/F</span>) <br/>
    from 
    <input type="text" size="10" name="input1" value="" onKeyPress="if
(event.keyCode == 13) regular_liste(this.form)" /> 
    to <input type="text" size="10" name="input2" value="" onKeyPress="if
(event.keyCode == 13) regular_liste(this.form)" />: <br/>
    <input type="button" name="bouton" value="Table" 
onclick="regular_liste(this.form)" />
    <div id="regular_liste"></div> </p>
    </form>

</div>



    <div class="encart">

    <form action="" name="form_regular_inverse_liste" onsubmit="return false;">
    <p> Table of regular and reciprocal numbers
(<span class="system">60A/F</span>) <br/>  from 
    <input type="text" size="10" name="input1" value="" onKeyPress="if
(event.keyCode == 13) regular_inverse_liste(this.form)"
    /> to <input type="text"
size="10" name="input2" value="" onKeyPress="if (event.keyCode ==
13) regular_inverse_liste(this.form)"
    />:
    <br/>
    <input type="button"
name="bouton" value="Table"
onclick="regular_inverse_liste(this.form)" />
    <div id="regular_inverse_liste"></div> </p>
    </form>

</div>




    <h3><a name="powers"/>Exponential operations</h3>


    <h4>Squares and square roots</h4>

    <div class="encart">

    <form action="" name="form_carre" onsubmit="return false;">
    <p> Square (<span class="system">60A/F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) square(this.form)"
    /> <input type="button"
name="bouton" value="Square" onclick="square(this.form)" />

    <span id="square"/>
    </p>
    </form>

</div>




    <div class="encart">

    <form action="" name="form_square_root" onsubmit="return false;">
    <p> Square root (<span class="system">60A/F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) square_root(this.form)"
    /> <input type="button"
name="bouton" value="Square root" onclick="square_root(this.form)" />
    <span id="squareroot" />
    <!-- <input type="text" size="25" name="output" value="" /> -->

</form>

</div>



    <div class="encart">

    <form action="" name="form_square_table" onsubmit="return false;">
    <p> 
    <input type="button" name="bouton" value="Table of squares"
onclick="square_table(this.form)" />
    (<span class="system">60F</span>) </p>
    <div id="square_tableau"></div>
    </form>

</div>




    <div class="encart">

    <form action="" name="form_square_root_table" onsubmit="return false;">
    <p>
    <input type="button" name="bouton" value="Table of square roots"
onclick="square_root_table(this.form)" /> 
    (<span class="system">60F</span>)
</p>
    <div id="square_root_tableau"></div>
    </form>

</div>


    <h4>Cubes and cube roots</h4>

    <div class="encart">

    <form action="" name="form_cube" onsubmit="return false;">
    <p> Cube (<span class="system">60A/F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) cube(this.form)"
    /> <input type="button"
name="bouton" value="Cube" onclick="cube(this.form)" />
    <span id="cube"/>
    <!-- <input type="text" size="25" name="output" value="" /> -->
    </p>
    </form>

</div>


    <div class="encart">

    <form action="" name="form_cubic_root" onsubmit="return false;">
    <p> Cube root (<span class="system">60A/F</span>): <br/>
    <input type="text" size="20" name="input" value=""
onKeyPress="if (event.keyCode == 13) cubic_root(this.form)"
    /> <input type="button"
name="bouton" value="Cube root" onclick="cubic_root(this.form)" />
    <span id="cuberoot"/>
    <!-- <input type="text" size="25" name="output" value="" /> -->
    </p>
    </form>


</div>


    <div class="encart">


    <form action="" name="form_cube_root_table" onsubmit="return false;">
    <p> 
    <input type="button" name="bouton" value="Table of cube roots"
onclick="cube_root_table(this.form)" /> 
    (<span class="system">60F</span>)
</p>
    <div id="cube_root_tableau"></div>
    </form>

</div>

    <h4>Geometric progression</h4>

    <div class="encart">

    <form action="" name="form_geom" onsubmit="return false;">
    <p> Geometric progression (<em>a &times; b<sup>n</sup></em>): <br/>
    <em>a</em> = <input type="text" size="20" name="first" value=""
onKeyPress="if (event.keyCode == 13) geom(this.form)"
    /><sup><span class="system">60A/F</span></sup>
    (first term)
    <br/> <em>b</em> = <input type="text" size="20" name="ratio" value=""
onKeyPress="if (event.keyCode == 13) geom(this.form)"
    /><sup><span class="system">60A/F</span></sup>
    (common ratio)
    <br/> 
    <em>n</em> = <input type="text" size="20" name="terms" value=""
onKeyPress="if (event.keyCode == 13) geom(this.form)"
    /><sup><span class="system">10A</span></sup>
    (number of terms)
    <br/>        <input type="button"
name="bouton" value="Table"
onclick="geom(this.form)" /> 
    </p>
    <div id="geom_tableau"></div>
    </form>

</div>


    <h3><a name="addition"/>Additive operations</h3>

    <div class="encart">
    <form action="" name="form_addition" onsubmit="return false;">
    <p> Addition (<span class="system">60A</span>):
    <div class="retrait">
    <input type="text" size="10" name="input1" id="addenda1" value=""
onKeyPress="if (event.keyCode == 13)
addition(this.form)" />  &plus; 
    <input type="text" size="10" name="input2" id="addenda2" value=""
onKeyPress="if (event.keyCode == 13) addition(this.form)" /> 
    <span id="nouv_addition"></span>
    <br/> 
    <input type="button" name="bouton" value="Sum"
onclick="addition(this.form)" />
    <input type="button" onclick="clear_addition(this.form)"
value="Clear"/>
    </div>
    <div class="retrait" id="tableau_addition"></div>
    </p>
    </form>
    </div>


    <div class="encart">
    <form action="" name="form_soustraction" onsubmit="return false;">
    <p> Subtraction (<span class="system">60A</span>):
    <div class="retrait">
    <input type="text" size="10" name="input1" id="subtrahenda1"  value=""
onKeyPress="if (event.keyCode == 13)
soustraction(this.form)" />  &minus; 
    <input type="text" size="10" name="input2" id="subtrahenda2"  value=""
onKeyPress="if (event.keyCode == 13)
soustraction(this.form)" />  
    <span id="nouv_soustraction"></span> 
    <br/> 
    <input type="button" name="bouton" value="Difference"
onclick="soustraction(this.form)" />      
    <!-- <span id="difference"/>  -->
    <!-- <input type="text" size="25" name="output" value="" />   -->
    <input type="button" onclick="clear_soustraction(this.form)"
value="Clear"/> 
    </div>
    <div class="retrait" id="tableau_soustraction"></div>
    </p>
    </form>
    </div>





    <hr/>



    <h2><a name="units"/>Measures</h2>

    <h3><a name="lengths"/>Lengths</h3>

    <p>Units of length:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>danna</em></strong></td> <td> &larr; 30 &larr; </td>
    <td><strong><em>uš</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>ninda</em></strong></td> <td> &larr; 12 &larr; </td>
    <td><strong><em>kuš</em></strong></td> <td> &larr; 30 &larr; </td>
    <td><strong><em>šusi</em></strong></td> 
    </tr>
    <tr>
    <td>11 km</td> <td> </td>
    <td>360 m</td> <td> </td>
    <td>6 m</td> <td> </td>
    <td>50 cm</td> <td> </td>
    <td>17 mm</td> 
    </tr>
    </table>
    </div>




    <div class="encart">

    <form action="" name="form_add_longueurs" onsubmit="return false;">
    <p>  Add lengths: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>danna</em></th> <th><em>uš</em></th> <th><em>ninda</em></th> <th><em>kuš</em></th> <th><em>šusi</em></th>
    </tr>

    <tr> <td></td>
    <td>     <input type="text" name="danna1" id="add_length_danna1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_longueurs(this.form)" /> </td>
    <td>
    <input type="text" name="us1" id="add_length_us1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus1" id="add_length_kus1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi1" id="add_length_susi1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td></tr>
    <tr> <td align="center">&plus;</td> 
    <td>     <input type="text" name="danna2" id="add_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="us2" id="add_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda2" id="add_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus2" id="add_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi2" id="add_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_longueurs(this.form)" /> </td> </tr> 
    <tr>     
    <td> 
    <input type="button" name="bouton"
value="=" 
onclick="add_longueurs(this.form)"
    />  
    <td colspan="5">
    <input type="text" name="output" value="" size="45" />     
    <!--             <input type="button" onclick="clear_add_longueurs(this.form)" value="Clear"/> -->
    </td></tr>
    </table>
    </div>
    <div class="retrait" id="tableau_add_longueurs"></div>
    </form>



</div>


    <div class="encart">


    <form action="" name="form_soustr_longueurs" onsubmit="return false;">
    <p>  Subtract lengths: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>danna</em></th> <th><em>uš</em></th> <th><em>ninda</em></th> <th><em>kuš</em></th> <th><em>šusi</em></th>
    </tr>

    <tr> <td></td>
    <td>     <input type="text" name="danna1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="us1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_longueurs(this.form)" /> </td>
    </tr>
    <tr>
    <td align="center">&minus; </td>
    <td>     <input type="text" name="danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="us2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_longueurs(this.form)" /> </td> 
    </tr>
    <tr>
    <td>  
    <input type="button" name="bouton"
value="=" onclick="soustr_longueurs(this.form)" />
    </td>
    <td colspan="5"> 
    <input type="text" name="output" value="" size="45" /></td>
    </tr>
    </table>
    </div>
    </form>




</div>


    <div class="encart">


    <form action="" name="form_mult_longueur" onsubmit="return false;">
    <p>  Multiply a length: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="danna" id="mult_longueur_danna" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)" /> <strong><em>danna</em></strong> </td>
    <td>    <input type="text" name="us" id="mult_longueur_us" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)"
    /> <strong><em>uš</em></strong> </td>
    <td>     <input type="text" name="ninda" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)"
    /> <strong><em>ninda</em></strong> </td>
    <td>     <input type="text" name="kus" id="mult_longueur_kus" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)"
    /> <strong><em>kuš</em></strong> </td>
    <td>  
    <input type="text" name="susi" id="mult_longueur_susi" value="" size="8" 
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)"
    /> <strong><em>šusi</em></strong> </td> </tr>

    <tr> <td colspan="5">
    &times;
    <input type="text" name="scalaire" id="mult_longueur_scalaire" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueur_form(this.form)"
    /> times
</td> </tr>


    <tr> <td colspan="5">
    <input type="button" name="bouton" value="="
onclick="mult_longueur_form(this.form)" />
    <input type="text" name="output" value="" size="45" /> 
    <input type="button" onclick="this.form.reset(); document.getElementById('mult_longueur_danna').focus();" value="Clear"/> 

</td> </tr>
    </table>

</div>
    </form>
    </div>


    <h3><a name="surfaces"/>Surfaces</h3>

    <p>Units of surface:</p>

    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>gan</em></strong></td> <td> &larr; 100 &larr; </td>
    <td><strong><em>sar</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>gin</em></strong></td> <td> &larr; 180 &larr; </td>
    <td><strong><em>še</em></strong></td> 
    </tr>
    <tr>
    <td>3600 m&sup2;</td> <td> </td>
    <td>36 m&sup2;</td> <td> </td>
    <td>0.6 m&sup2;</td> <td> </td>
    <td>33 cm&sup2;</td> 
    </tr>
    <tr>
    <td></td> <td> </td>
    <td>1 ninda &times; 1 ninda</td> <td> </td>
    <td></td> <td> </td>
    <td></td> 
    </tr>
    </table>
    </div>


    <div class="encart"/>


    <form action="" name="form_mult_longueurs" onsubmit="return false;">
    <p>  Multiply lengths to get a surface: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>danna</em></th> <th><em>uš</em></th> <th><em>ninda</em></th> <th><em>kuš</em></th> <th><em>šusi</em></th>
    </tr>

    <tr> <td></td>
    <td>     <input type="text" name="danna1" id="mult_length_danna1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueurs(this.form)" /> </td>
    <td>
    <input type="text" name="us1" id="mult_length_us1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus1" id="mult_length_kus1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi1" id="mult_length_susi1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td></tr>
    <tr> <td align="center">&times;</td> 
    <td>     <input type="text" name="danna2" id="mult_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="us2" id="mult_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="ninda2" id="mult_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="kus2" id="mult_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_longueurs(this.form)" /> </td>
    <td>     <input type="text" name="susi2" id="mult_length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_longueurs(this.form)" /> </td> </tr>
    <tr>
    <td>    
    <input type="button" name="bouton" value="="
onclick="mult_longueurs(this.form)" />
    </td>
    <td colspan="5">   
    <input type="text" name="output" value="" size="45" />             
    <input type="button" onclick="form.reset(); document.getElementById('mult_length_danna1').focus();" value="Clear"/> 
    </td></tr>
    </table>
    </div>
    </form>



</div>


    <div class="encart">


    <form action="" name="form_add_surfaces" onsubmit="return false;">
    <p>  Add surfaces: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gan</em></th> <th><em>sar</em></th> <th><em>gin</em></th> <th><em>še</em></em></th>
    </tr>
    <tr>
    <td> </td>
    <td>     <input type="text" name="gan1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="sar1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_surfaces(this.form)" /> </td> </tr>

    <tr>
    <td align="center">&plus;</td>
    <td>      <input type="text" name="gan2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="sar2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_surfaces(this.form)" /> </td>
    <td>      <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_surfaces(this.form)" /> </td> </tr>
    <tr>
    <td>    
    <input type="button" name="bouton" value="="
onclick="add_surfaces(this.form)" /> 
    </td>
    <td colspan="4"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>
    </div>
    </form>


</div>


    <div class="encart">


    <form action="" name="form_soustr_surfaces" onsubmit="return false;">
    <p>  Subtract surfaces: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gan</em></th> <th><em>sar</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td> </td>

    <td>     <input type="text" name="gan1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="sar1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_surfaces(this.form)" /> </td> </tr>
    <tr>
    <td align="center">&minus;</td> 
    <td>     <input type="text" name="gan2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="sar2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_surfaces(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_surfaces(this.form)" /> </td>
    </tr>
    <tr>
    <td>                
    <input type="button" name="bouton" value="="
onclick="soustr_surfaces(this.form)" /> 
    </td>
    <td colspan="4"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>

</div>
    </form>





</div>


    <div class="encart">


    <form action="" name="form_mult_surface" onsubmit="return false;">
    <p>  Multiply a surface: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="gan" id="mult_surface_gan" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_form(this.form)" /> <strong><em>gan</em></strong> </td>
    <td>    <input type="text" name="sar" id="mult_surface_sar" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_form(this.form)"
    /> <strong><em>sar</em></strong> </td>
    <td>     <input type="text" name="gin" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_form(this.form)"
    /> <strong><em>gin</em></strong> </td>
    <td>     <input type="text" name="se" id="mult_surface_se" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_form(this.form)"
    /> <strong><em>še</em></strong> </td>
    </tr>

    <tr> <td colspan="4">
    &times;
    <input type="text" name="scalaire" id="mult_surface_scalaire" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_form(this.form)"
    /> times
</td> </tr>


    <tr> <td colspan="4">
    <input type="button" name="bouton" value="="
onclick="mult_surface_form(this.form)" />
    <input type="text" name="output" value="" size="45" />
    <input type="button" onclick="form.reset(); document.getElementById('mult_surface_gan').focus();" value="Clear"/> 
    </td> </tr>
    </table>

</div>
    </form>

</div>





    <h3><a name="volumes"/>Volumes</h3>

    <p>Units of volume:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>gan</em></strong></td> <td> &larr; 100 &larr; </td>
    <td><strong><em>sar</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>gin</em></strong></td> <td> &larr; 180 &larr; </td>
    <td><strong><em>še</em></strong></td> 
    </tr>
    <tr>
    <td>1800 m&sup3;</td> <td> </td>
    <td>18 m&sup3;</td> <td> </td>
    <td>300 dm&sup3;</td> <td> </td>
    <td>1.7 dm&sup3;</td> 
    </tr>
    <tr>
    <td></td>  <td></td>
    <td>1 (surface-)sar &times; 1 kuš</td> <td> </td>
    <td></td> <td> </td>
    <td></td> 
    </tr>
    </table>
    </div>



    <div class="encart"/>

    <form action="" name="form_mult_trois_longueurs" onsubmit="return false;">
    <p>  Multiply lengths to get a volume: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>danna</em></th> <th><em>uš</em></th> <th><em>ninda</em></th> <th><em>kuš</em></th> <th><em>šusi</em></th>
    </tr>

    <tr> <td></td>
    <td>     <input type="text" name="danna1" id="mult_3length_danna1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_trois_longueurs_form(this.form)" /> </td>
    <td>
    <input type="text" name="us1" id="mult_3length_us1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="ninda1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="kus1" id="mult_3length_kus1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="susi1" id="mult_3length_susi1" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td></tr>
    <tr> <td align="center">&times;</td> 
    <td>     <input type="text" name="danna2" id="mult_3length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="us2" id="mult_3length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="ninda2" id="mult_3length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="kus2" id="mult_3length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="susi2" id="mult_3length_danna2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_trois_longueurs_form(this.form)" /> </td> </tr>
    <tr> <td align="center">&times;</td> 
    <td>     <input type="text" name="danna3" id="mult_3length_danna3" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="us3" id="mult_3length_danna3" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="ninda3" id="mult_3length_danna3" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="kus3" id="mult_3length_danna3" value="" size="8"
onKeyPress="if (event.keyCode == 13) mult_trois_longueurs_form(this.form)" /> </td>
    <td>     <input type="text" name="susi3" id="mult_3length_danna3" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_trois_longueurs_form(this.form)" /> </td> </tr>
    <tr>
    <td>     
    <input type="button" name="bouton" value="="
onclick="mult_trois_longueurs_form(this.form)" />
    </td>
    <td colspan="5">   
    <input type="text" name="output" value="" size="45" />
    <input type="button" onclick="form.reset(); document.getElementById('mult_3length_danna1').focus();" value="Clear"/> 
    </td></tr>
    </table>
    </div>
    </form>





</div>


    <div class="encart">


    <form action="" name="form_mult_surface_longueur" onsubmit="return false;">
    <p>  Multiply length and surface to get a volume: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="danna" id="mult_surface_length_danna" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)" /> <strong><em>danna</em></strong> </td>
    <td>    <input type="text" name="us" id="mult_surface_length_us" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>uš</em></strong> </td>
    <td>     <input type="text" name="ninda" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>ninda</em></strong> </td>
    <td>     <input type="text" name="kus" id="mult_surface_length_kus" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>kuš</em></strong> </td>
    <td>     <input type="text" name="susi" id="mult_surface_length_susi" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>šusi</em></strong> </td> </tr>

    <tr> <td> &times;  </td>
    <td>     <input type="text" name="gan" id="mult_surface_length_gan" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)" /> <strong><em>gan</em></strong> </td>
    <td>    <input type="text" name="sar" id="mult_surface_length_sar" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>sar</em></strong> </td>
    <td>     <input type="text" name="gin" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>gin</em></strong> </td>
    <td>     <input type="text" name="se" id="mult_surface_length_se" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_surface_longueur_form(this.form)"
    /> <strong><em>še</em></strong> 
    </td> </tr>


    <tr> <td colspan="5">
    <input type="button" name="bouton" value="="
onclick="mult_surface_longueur_form(this.form)" />
    <input type="text" name="output" value="" size="45" /> 
    <input type="button" onclick="form.reset(); document.getElementById('mult_surface_length_danna').focus();" value="Clear"/> 
    </td> </tr>
    </table>

</div>
    </form>







</div>


    <div class="encart">


    <form action="" name="form_add_volumes" onsubmit="return false;">
    <p>  Add volumes: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gan</em></th> <th><em>sar</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td> </td>
    <td>     <input type="text" name="gan1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="sar1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_volumes(this.form)" /> </td> </tr>

    <tr>
    <td align="center">&plus;</td>
    <td>      <input type="text" name="gan2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="sar2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_volumes(this.form)" /> </td>
    <td>      <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_volumes(this.form)" /> </td> </tr>
    <tr>
    <td>     
    <input type="button" name="bouton" value="="
onclick="add_volumes(this.form)" /> 
    </td>
    <td colspan="4"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>
    </div>
    </form>





</div>


    <div class="encart">


    <form action="" name="form_soustr_volumes" onsubmit="return false;">
    <p>  Subtract volumes: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gan</em></th> <th><em>sar</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td> </td>

    <td>     <input type="text" name="gan1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="sar1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_volumes(this.form)" /> </td> </tr>
    <tr>
    <td align="center">&minus;</td> 
    <td>     <input type="text" name="gan2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="sar2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_volumes(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_volumes(this.form)" /> </td>
    </tr>
    <tr>
    <td>    
    <input type="button" name="bouton" value="="
onclick="soustr_volumes(this.form)" /> 
    </td>
    <td colspan="4"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>

</div>
    </form>






</div>


    <div class="encart">


    <form action="" name="form_mult_volume" onsubmit="return false;">
    <p>  Multiply a volume: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="gan" id="mult_volume_gan" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_volume_form(this.form)" /> <strong><em>gan</em></strong> </td>
    <td>    <input type="text" name="sar" id="mult_volume_sar" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_volume_form(this.form)"
    /> <strong><em>sar</em></strong> </td>
    <td>     <input type="text" name="gin" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_volume_form(this.form)"
    /> <strong><em>gin</em></strong> </td>
    <td>     <input type="text" name="se" id="mult_volume_se" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_volume_form(this.form)"
    /> <strong><em>še</em></strong> </td>
    </tr>

    <tr> <td colspan="4">
    &times;
    <input type="text" name="scalaire" id="mult_volume_scalaire" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_volume_form(this.form)"
    /> times
</td> </tr>


    <tr> <td colspan="4">
    <input type="button" name="bouton" value="="
onclick="mult_volume_form(this.form)" />
    <input type="text" name="output" value="" size="45" />
    <input type="button" onclick="form.reset(); document.getElementById('mult_volume_gan').focus();" value="Clear"/> 
    </td> </tr>
    </table>

</div>
    </form>

</div>



    <h3><a name="capacities"/>Capacities</h3>

    <p>Units of capacity:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>gur</em></strong></td> <td> &larr; 5 &larr; </td>
    <td><strong><em>bariga</em></strong></td> <td> &larr; 6 &larr; </td>
    <td><strong><em>ban</em></strong></td> <td> &larr; 10 &larr; </td>
    <td><strong><em>sila</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>gin</em></strong></td>  <td> &larr; 180 &larr; </td>
    <td><strong><em>še</em></strong></td> 
    </tr>
    <tr>
    <td>300 L</td> <td> </td>
    <td>60 L</td> <td> </td>
    <td>10 L</td> <td> </td>
    <td>1 L</td> <td> </td>
    <td>17 mL</td> <td> </td>
    <td>0.1 mL</td> 
    </tr>
    </table>
    </div>







    <div class="encart"/>

    <form action="" name="form_add_capacites" onsubmit="return false;">
    <p>  Add capacities: </p>
    <div class="retrait">

    <table class="encadre">
    <tr>
    <th></th>  <th><em>gur</em></th> <th><em>bariga</em></th> <th><em>ban</em></th> <th><em>sila</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td></td>
    <td>     <input type="text" name="gur1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="bariga1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="ban1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="sila1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_capacites(this.form)" /> </td>
    </tr>
    <tr>
    <td align="center">&plus;</td> 
    <td>     <input type="text" name="gur2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="bariga2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="ban2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="sila2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_capacites(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_capacites(this.form)" /> </td>
    </tr>
    <tr>
    <td>  
    <input type="button" name="bouton" value="="
onclick="add_capacites(this.form)" /> 
    </td>
    <td colspan="6"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>
    </div>
    </form>


</div>


    <div class="encart">


    <form action="" name="form_soustr_capacites" onsubmit="return false;">
    <p>  Subtract capacities: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gur</em></th> <th><em>bariga</em></th> <th><em>ban</em></th> <th><em>sila</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td></td>
    <td>      <input type="text" name="gur1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="bariga1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="ban1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="sila1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_capacites(this.form)" /> </td>
    </tr>
    <tr>
    <td align="center">&minus;</td> 
    <td>     <input type="text" name="gur2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="bariga2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="ban2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="sila2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_capacites(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_capacites(this.form)" /> </td>
    </tr>
    <tr>
    <td> 
    <input type="button" name="bouton" value="="
onclick="soustr_capacites(this.form)" /> 
    </td>
    <td colspan="6"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>
    </div>
    </form>





</div>


    <div class="encart">


    <form action="" name="form_mult_capacite" onsubmit="return false;">
    <p>  Multiply a capacity: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="gur" id="mult_capacite_gur" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)" /> <strong><em>gur</em></strong> </td>
    <td>    <input type="text" name="bariga" id="mult_capacite_bariga" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> <strong><em>bariga</em></strong> </td>
    <td>     <input type="text" name="ban" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> <strong><em>ban</em></strong> </td>
    <td>     <input type="text" name="sila" id="mult_capacite_sila" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> <strong><em>sila</em></strong> </td>
    <td>  
    <input type="text" name="gin" id="mult_capacite_gin" value="" size="8" 
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> <strong><em>gin</em></strong> </td>
    <td>  
    <input type="text" name="se" id="mult_capacite_se" value="" size="8" 
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> <strong><em>še</em></strong> </td>
    </tr>

    <tr> <td colspan="6">
    &times;
    <input type="text" name="scalaire" id="mult_capacite_scalaire" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_capacite_form(this.form)"
    /> times
</td> </tr>


    <tr> <td colspan="6">
    <input type="button" name="bouton" value="="
onclick="mult_capacite_form(this.form)" />
    <input type="text" name="output" value="" size="45" />
    <input type="button" onclick="form.reset(); document.getElementById('mult_capacite_gur').focus();" value="Clear"/> 

</td> </tr>
    </table>

</div>
    </form>

</div>






    <h3><a name="weights"/>Weights</h3>

    <p>Units of weight:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>gu</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>mana</em></strong></td> <td> &larr; 60 &larr; </td>
    <td><strong><em>gin</em></strong></td> <td> &larr; 180 &larr; </td>
    <td><strong><em>še</em></strong></td> 
    </tr>
    <tr>
    <td>30 kg</td> <td> </td>
    <td>500 g</td> <td> </td>
    <td>8 g</td> <td> </td>
    <td>0.05 g</td> 
    </tr>
    </table>
    </div>



    <div class="encart"/>

    <form action="" name="form_add_poids" onsubmit="return false;">
    <p>  Add weights: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gu</em></th> <th><em>mana</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td> </td>
    <td>         <input type="text" name="gu1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_poids(this.form)" /> </td>
    <td>     <input type="text" name="mana1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_poids(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_poids(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_poids(this.form)" /> </td>
    </tr>

    <tr>
    <td align="center">&plus;</td> 
    <td>     <input type="text" name="gu2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_poids(this.form)" /> </td>
    <td>     <input type="text" name="mana2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_poids(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) add_poids(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
add_poids(this.form)" /> </td>
    </tr>
    <tr>
    <td>   
    <input type="button" name="bouton" value="="
onclick="add_poids(this.form)" /> 
    </td>
    <td colspan="4">   
    <input type="text" name="output" value="" size="45"
    /> </td>
    </tr>
    </table>
    </div>
    </form>






</div>


    <div class="encart">


    <form action="" name="form_soustr_poids" onsubmit="return false;">
    <p>  Subtract weights: </p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <th></th>  <th><em>gu</em></th> <th><em>mana</em></th> <th><em>gin</em></th> <th><em>še</em></th>
    </tr>
    <tr>
    <td> </td>

    <td>         <input type="text" name="gu1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="mana1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="gin1" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="se1" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_poids(this.form)" /> </td>
    </tr>
    <tr>
    <td align="center"> &minus;</td>
    <td>     <input type="text" name="gu2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="mana2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="gin2" value="" size="8"
onKeyPress="if (event.keyCode == 13) soustr_poids(this.form)" /> </td>
    <td>     <input type="text" name="se2" value="" size="8"
onKeyPress="if (event.keyCode == 13)
soustr_poids(this.form)" /> </td>
    </tr>
    <tr>
    <td> 
    <input type="button" name="bouton" value="="
onclick="soustr_poids(this.form)" /> 
    </td>
    <td colspan="4"> 
    <input type="text" name="output" value="" size="45"
    /></td>
    </tr>
    </table>
    </div>
    </form>







</div>


    <div class="encart">


    <form action="" name="form_mult_poids" onsubmit="return false;">
    <p>  Multiply a weight: </p>
    <div class="retrait">

    <table class="encadre">

    <tr> 
    <td>     <input type="text" name="gu" id="mult_poids_gu" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_poids_form(this.form)" /> <strong><em>gu</em></strong> </td>
    <td>    <input type="text" name="mana" id="mult_poids_mana" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_poids_form(this.form)"
    /> <strong><em>mana</em></strong> </td>
    <td>     <input type="text" name="gin" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_poids_form(this.form)"
    /> <strong><em>gin</em></strong> </td>
    <td>     <input type="text" name="se" id="mult_poids_se" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_poids_form(this.form)"
    /> <strong><em>še</em></strong> </td>
    </tr>

    <tr> <td colspan="4">
    &times;
    <input type="text" name="scalaire" id="mult_poids_scalaire" value="" size="8"
onKeyPress="if (event.keyCode == 13)
mult_poids_form(this.form)"
    /> times
</td> </tr>


    <tr> <td colspan="4">
    <input type="button" name="bouton" value="="
onclick="mult_poids_form(this.form)" />
    <input type="text" name="output" value="" size="45" />
    <input type="button" onclick="form.reset(); document.getElementById('mult_poids_gu').focus();" value="Clear"/> 
    </td> </tr>
    </table>

</div>
    </form>

</div>


    <h3><a name="systemSsystemG"/>System G and system S</h3>


    <p>System G:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>šar-gal</em></strong></td> <td> &larr; 6 &larr; </td>
    <td><strong><em>šar'u</em></strong></td> <td> &larr; 10 &larr; </td>
<td><strong><em>šar</em></strong></td> <td> &larr; 6 &larr; </td>
<td><strong><em>bur'u</em></strong></td> <td> &larr; 10 &larr; </td>
    <td><strong><em>bur</em></strong></td> <td> &larr; 3 &larr; </td>
    <td><strong><em>eše</em></strong></td> <td> &larr; 6 &larr; </td>
    <td><strong><em>iku</em></strong></td> 
    </tr>
    <tr>
    <td>34800</td> <td> </td>
    <td>10800</td> <td> </td>
    <td>1080</td> <td> </td>
    <td>180</td> <td> </td>
    <td>18</td> <td> </td>
    <td>6</td> <td> </td>
    <td>1</td> 
    </tr>
    </table>
    </div>

    <p>System S:</p>
    <div class="retrait">
    <table class="encadre">
    <tr>
    <td><strong><em>šar-gal</em></strong></td> <td> &larr; 6 &larr; </td>
    <td><strong><em>šar'u</em></strong></td> <td> &larr; 10 &larr; </td>
<td><strong><em>šar</em></strong></td> <td> &larr; 6 &larr; </td>
<td><strong><em>gešu</em></strong></td> <td> &larr; 10 &larr; </td>
<td><strong><em>geš</em></strong></td> <td> &larr; 6 &larr; </td>
<td><strong><em>u</em></strong></td> <td> &larr; 10 &larr; </td>
<td><strong><em>diš</em></strong></td> 
</tr>
<tr>
<td>216000</td> <td> </td>
<td>36000</td> <td> </td>
<td>3600</td> <td> </td>
<td>600</td> <td> </td>
<td>60</td> <td> </td>
<td>10</td> <td> </td>
<td>1</td> 
</tr>
</table>
</div>


<!-- <div class="encart"/>

<form action="" name="form_systemS2systemG" onsubmit="return false;">
<p>  Conversion from system S to system G: </p>

<div class="retrait">
<table class="encadre">
<tr>
<th>šar-gal</th> <th><em>šar'u</em></th> <th><em>šar</em></th> <th><em>gešu</em></th> 
    <th><em>geš</em></th> <th><em>u</em></th> <th><em>diš</em></th>  
    </tr>
    <tr>
    <td>         <input type="text" name="sargal" id="systemS2systemG_sargal" value="" size="7"
onKeyPress="if (event.keyCode == 13) systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="saru" value="" size="7"
onKeyPress="if (event.keyCode == 13) systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="sar" value="" size="7"
onKeyPress="if (event.keyCode == 13) systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="gesu" value="" size="7"
onKeyPress="if (event.keyCode == 13)
systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="ges" value="" size="7"
onKeyPress="if (event.keyCode == 13) systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="u" value="" size="7"
onKeyPress="if (event.keyCode == 13) systemS2systemG(this.form)" /> </td>
    <td>     <input type="text" name="dis" value="" size="7"
onKeyPress="if (event.keyCode == 13)
systemS2systemG(this.form)" /> </td>
    </tr>

    <tr>
    <td colspan="7">   
    <input type="button" name="bouton" value="G &rarr;"
onclick="systemS2systemG(this.form)" /> 
    <input type="text" name="output" value="" size="45"
    />
    <input type="button" onclick="form.reset(); document.getElementById('systemS2systemG_sargal').focus();" value="Clear"/> 
    </td>
    </tr>
    </table>
    </div>
    </form>





</div> -->

<!-- <div class="encart">


<form action="" name="form_systemG2systemS" onsubmit="return false;">
<p>  Conversion from system G to system S: </p>

<div class="retrait">
<table class="encadre">
<tr>
<th><em>šar-gal</em></th> <th><em>šar'u</em></th> <th><em>šar</em></th> <th><em>bur'u</em></th> 
<th><em>bur</em></th> <th><em>eše</em></th> <th><em>iku</em></th>  
</tr>
<tr>
<td>         <input type="text" name="sargal"  id="systemG2systemS_sargal" value="" size="6"
onKeyPress="if (event.keyCode == 13) systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="saru" value="" size="6"
onKeyPress="if (event.keyCode == 13) systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="sar" value="" size="6"
onKeyPress="if (event.keyCode == 13) systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="buru" value="" size="6"
onKeyPress="if (event.keyCode == 13)
systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="bur" value="" size="6"
onKeyPress="if (event.keyCode == 13) systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="ese" value="" size="6"
onKeyPress="if (event.keyCode == 13) systemG2systemS_form(this.form)" /> </td>
<td>     <input type="text" name="iku" value="" size="6"
onKeyPress="if (event.keyCode == 13)
systemG2systemS_form(this.form)" /> </td>
</tr>

<tr>
<td colspan="7">   
<input type="button" name="bouton" value="S &rarr;"
onclick="systemG2systemS_form(this.form)" /> 
<input type="text" name="output" value="" size="45"
/>
<input type="button" onclick="form.reset(); document.getElementById('systemG2systemS_sargal').focus();" value="Clear"/> 

</td>
</tr>
</table>
</div>
</form>

</div> -->

    <hr/>


    <h2><a name="faq"/>About MesoCalc</h2>

    <h3><a name="download"/>Can I download MesoCalc?</h3>

    <div class="encart">
    <p> Yes, you can! To download MesoCalc and use it offline
on your computer or smartphone, </p>

    <ul>
    <li>
    either  <a href="http://baptiste.meles.free.fr/site/mesocalc.html">right-click 
on the present link</a> and select &quot;Save As&quot;; </li>
    <li> or select &quot;File &gt; Save As&quot; in your web browser while
        it is displaying the present page. </li>
    </ul>
    </div>


    <h3><a name="source"/>Can I read the source code of MesoCalc?</h3>

    <div class="encart">
    <p>Yes, you can! MesoCalc is a free software. You can read the
source code of the present web page. You can even modify the
source code and then redistribute your own modifications under the
terms of the GNU General Public License (see
                                         the <a href="#license">license</a> below). </p>

    <p> If you want to see the HTML, CSS and JavaScript source code of
this program, you will have to find on option like &quot;View &gt;
Page Source&quot; or &quot;Tools &gt; Source Code&quot; in your
web browser while displaying the present web page.  </p>
    </div>


    <h3><a name="contact"/>Are there new features in MesoCalc?</h3>

    <div class="encart">
    <p>Yes, very frequently! Month after month, MesoCalc gets new
    features and new bug corrections. In case you downloaded MesoCalc to
    use it offline, make sure that you have the newest version.</p>

<p>Last modifications:</p>
<ul>
<li>16th September 2015: bug correction in measurement units. Now, input
    numbers can be either decimal or sexagesimal. Until recently, only
    sexagesimal numbers were accepted.
</li>
    </div>



    <h3><a name="license"/>License</h3>
    <div class="encart">
    <p>MesoCalc: a Mesopotamian calculator.</p>

    <p>Copyright (C) <a href="http://baptiste.meles.free.fr/">Baptiste
MÉLÈS</a> 2013.</p>

    <p> Latest version: 16th September 2015.</p>

    <p>This program is free software: you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or any later version.</p>

    <p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
the <a href="http://www.gnu.org/licenses/">GNU General Public
License</a> for more details.</p>
    </div>



    <h3><a name="contact"/>Contact</h3>

    <div class="encart">
    <p>If you see bugs or want new features,
please <a href="mailto:baptiste.meles@normalesup.org">contact Baptiste
Mélès</a>. All comments and suggestions are welcome! </p>
    </div>




    <!--
    - convertir des mesures en SPVN

    - convertir des SPVN en mesures, l'ordre de grandeur étant précisé par
--des mots clé (par exemple pour les capacités; bol, silo, bateau, --
--ziggurat....)

-->

</div>
</body>
</html>
